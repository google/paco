/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.0-rc1-master-d74f93a
 */
function MdAutocompleteCtrl(e,t,n,o,l,i,a,r,c,u){function m(){n.initOptionalProperties(e,c,{searchText:null,selectedItem:null}),l(t),h(),n.nextTick(function(){f(),s(),p(),t.on("focus",p)})}function d(){function e(){var e=ee.scrollContainer.getBoundingClientRect(),n={};e.right>l.right-MENU_PADDING&&(n.left=t.right-e.width+"px"),ee.$.scrollContainer.css(n)}if(!ee)return n.nextTick(d,!1);var t=ee.wrap.getBoundingClientRect(),o=ee.snap.getBoundingClientRect(),l=ee.root.getBoundingClientRect(),i=o.bottom-l.top,a=l.bottom-o.top,r=t.left-l.left,c=t.width,u={left:r+"px",minWidth:c+"px",maxWidth:Math.max(t.right-l.left,l.right-t.left)-MENU_PADDING+"px"};i>a&&l.height-t.bottom-MENU_PADDING<MAX_HEIGHT?(u.top="auto",u.bottom=a+"px",u.maxHeight=Math.min(MAX_HEIGHT,t.top-l.top-MENU_PADDING)+"px"):(u.top=i+"px",u.bottom="auto",u.maxHeight=Math.min(MAX_HEIGHT,l.bottom-t.bottom-MENU_PADDING)+"px"),ee.$.scrollContainer.css(u),n.nextTick(e,!1)}function s(){ee.$.root.length&&(l(ee.$.scrollContainer),ee.$.scrollContainer.detach(),ee.$.root.append(ee.$.scrollContainer),a.pin&&a.pin(ee.$.scrollContainer,r))}function p(){e.autofocus&&ee.input.focus()}function h(){var t=parseInt(e.delay,10)||0;c.$observe("disabled",function(e){J.isDisabled=e}),c.$observe("required",function(e){J.isRequired=null!==e}),e.$watch("searchText",t?n.debounce(D,t):D),e.$watch("selectedItem",T),angular.element(i).on("resize",d),e.$on("$destroy",g)}function g(){angular.element(i).off("resize",d),ee.$.scrollContainer.remove()}function f(){ee={main:t[0],scrollContainer:t[0].getElementsByClassName("md-virtual-repeat-container")[0],scroller:t[0].getElementsByClassName("md-virtual-repeat-scroller")[0],ul:t.find("ul")[0],input:t.find("input")[0],wrap:t.find("md-autocomplete-wrap")[0],root:document.body},ee.li=ee.ul.getElementsByTagName("li"),ee.snap=$(),ee.$=C(ee)}function $(){for(var e=t;e.length;e=e.parent())if(angular.isDefined(e.attr("md-autocomplete-snap")))return e[0];return ee.wrap}function C(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=angular.element(e[n]));return t}function x(e,t){!e&&t?(d(),ee&&n.nextTick(function(){n.disableScrollAround(ee.ul)},!1)):e&&!t&&n.nextTick(function(){n.enableScrolling()},!1)}function A(){ne=!0}function v(){ne=!1,le||(J.hidden=!0)}function b(){ee.input.focus()}function T(t,n){t&&O(t).then(function(o){e.searchText=o,I(t,n)}),t!==n&&M()}function M(){angular.isFunction(e.itemChange)&&e.itemChange(_(e.selectedItem))}function E(){angular.isFunction(e.textChange)&&e.textChange()}function I(e,t){oe.forEach(function(n){n(e,t)})}function w(e){-1==oe.indexOf(e)&&oe.push(e)}function y(e){var t=oe.indexOf(e);-1!=t&&oe.splice(t,1)}function D(t,n){J.index=R(),t!==n&&O(e.selectedItem).then(function(o){t!==o&&(e.selectedItem=null,t!==n&&E(),G()?z():(J.loading=!1,J.matches=[],J.hidden=L(),V()))})}function H(){le=!1,ne||(J.hidden=!0)}function N(){le=!0,angular.isString(e.searchText)||(e.searchText=""),e.minLength>0||(J.hidden=L(),J.hidden||z())}function k(e){switch(e.keyCode){case o.KEY_CODE.DOWN_ARROW:if(J.loading)return;e.stopPropagation(),e.preventDefault(),J.index=Math.min(J.index+1,J.matches.length-1),j(),V();break;case o.KEY_CODE.UP_ARROW:if(J.loading)return;e.stopPropagation(),e.preventDefault(),J.index=J.index<0?J.matches.length-1:Math.max(0,J.index-1),j(),V();break;case o.KEY_CODE.TAB:case o.KEY_CODE.ENTER:if(J.hidden||J.loading||J.index<0||J.matches.length<1)return;e.stopPropagation(),e.preventDefault(),U(J.index);break;case o.KEY_CODE.ESCAPE:e.stopPropagation(),e.preventDefault(),B(),J.matches=[],J.hidden=!0,J.index=R()}}function P(){return angular.isNumber(e.minLength)?e.minLength:1}function O(t){function n(t){return t&&e.itemText?e.itemText(_(t)):null}return u.when(n(t)||t)}function _(e){if(!e)return void 0;var t={};return J.itemName&&(t[J.itemName]=e),t}function R(){return e.autoselect?0:-1}function L(){return G()&&J.matches.length?void 0:!0}function S(){return O(J.matches[J.index])}function G(){return angular.isDefined(e.searchText)&&e.searchText.length>=P()}function q(e,t,n){Object.defineProperty(J,e,{get:function(){return n},set:function(e){var o=n;n=e,t(e,o)}})}function U(t){n.nextTick(function(){O(J.matches[t]).then(function(e){var t=ee.$.input.controller("ngModel");t.$setViewValue(e),t.$render()})["finally"](function(){e.selectedItem=J.matches[t],J.loading=!1,J.hidden=!0,J.index=0,J.matches=[]})},!1)}function B(){e.searchText="",U(-1);var t=document.createEvent("CustomEvent");t.initCustomEvent("input",!0,!0,{value:e.searchText}),ee.input.dispatchEvent(t),ee.input.focus()}function F(t){function o(n){te[i]=n,t===e.searchText&&(J.matches=n,J.hidden=L(),e.selectOnMatch&&X(),V(),d())}var l=e.$parent.$eval(Z),i=t.toLowerCase();angular.isArray(l)?o(l):l&&n.nextTick(function(){J.loading=!0,l.success&&l.success(o),l.then&&l.then(o),l["finally"]&&l["finally"](function(){J.loading=!1})})}function V(){S().then(function(e){J.messages=[W(),e]})}function W(){if(ie===J.matches.length)return"";switch(ie=J.matches.length,J.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+J.matches.length+" matches available."}}function j(){if(ee.li[0]){var e=ee.li[0].offsetHeight,t=e*J.index,n=t+e,o=ee.scroller.clientHeight,l=ee.scroller.scrollTop;l>t?K(t):n>l+o&&K(n-o)}}function K(e){ee.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(e)}function Y(){return!J.matches.length&&!J.loading&&J.scope.searchText&&le&&!J.scope.selectedItem}function z(){var t=e.searchText,n=t.toLowerCase();!e.noCache&&te[n]?(J.matches=te[n],V()):F(t),le&&(J.hidden=L())}function X(){var t=e.searchText,n=J.matches,o=n[0];1===n.length&&O(o).then(function(e){t==e&&U(0)})}var J=this,Q=e.itemsExpr.split(/ in /i),Z=Q[1],ee=null,te={},ne=!1,oe=[],le=!1,ie=0;return q("hidden",x,!0),J.scope=e,J.parent=e.$parent,J.itemName=Q[0],J.matches=[],J.loading=!1,J.hidden=!0,J.index=null,J.messages=[],J.id=n.nextUid(),J.isDisabled=null,J.isRequired=null,J.keydown=k,J.blur=H,J.focus=N,J.clear=B,J.select=U,J.listEnter=A,J.listLeave=v,J.mouseUp=b,J.getCurrentDisplayValue=S,J.registerSelectedItemWatcher=w,J.unregisterSelectedItemWatcher=y,J.notFoundVisible=Y,m()}function MdAutocomplete(){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",selectOnMatch:"=?mdSelectOnMatch",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId"},template:function(e,t){function n(){var t=e.find("md-item-template").detach(),n=t.length?t.html():e.html();return t.length||e.empty(),n}function o(){var t=e.find("md-not-found").detach(),n=t.length?t.html():"";return n?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+n+"</li>":""}function l(){return t.mdFloatingLabel?'            <md-input-container flex ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+r+"</div>            </md-input-container>":'            <input flex type="search"                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>            <button                type="button"                tabindex="-1"                ng-if="$mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled"                ng-click="$mdAutocompleteCtrl.clear()">              <md-icon md-svg-icon="md-close"></md-icon>              <span class="md-visually-hidden">Clear</span>            </button>                '}var i=o(),a=n(),r=e.html();return'        <md-autocomplete-wrap            layout="row"            ng-class="{ \'md-whiteframe-z1\': !floatingLabel, \'md-menu-showing\': !$mdAutocompleteCtrl.hidden }"            role="listbox">          '+l()+'          <md-progress-linear              ng-if="$mdAutocompleteCtrl.loading && !$mdAutocompleteCtrl.hidden"              md-mode="indeterminate"></md-progress-linear>          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-hide="$mdAutocompleteCtrl.hidden && !$mdAutocompleteCtrl.notFoundVisible()"              class="md-autocomplete-suggestions-container md-whiteframe-z1"              role="presentation">            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}"                ng-mouseenter="$mdAutocompleteCtrl.listEnter()"                ng-mouseleave="$mdAutocompleteCtrl.listLeave()"                ng-mouseup="$mdAutocompleteCtrl.mouseUp()">              <li md-virtual-repeat="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-click="$mdAutocompleteCtrl.select($index)"                  md-extra-name="$mdAutocompleteCtrl.itemName">                  '+a+"                  </li>"+i+'            </ul>          </md-virtual-repeat-container>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages track by $index" ng-if="message">{{message}}</p>        </aria-status>'}}}function MdHighlightCtrl(e,t,n){function o(o,l){var a=null,r=null,c=n.mdHighlightFlags||"",u=e.$watch(function(e){return{term:o(e),unsafeText:l(e)}},function(e,n){(null===a||e.unsafeText!==n.unsafeText)&&(a=angular.element("<div>").text(e.unsafeText).html()),(null===r||e.term!==n.term)&&(r=i(e.term,c)),t.html(a.replace(r,'<span class="highlight">$&</span>'))},!0);t.on("$destroy",function(){u()})}function l(e){return e&&e.replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}function i(e,t){var n="";return t.indexOf("^")>=1&&(n+="^"),n+=e,t.indexOf("$")>=1&&(n+="$"),new RegExp(l(n),t.replace(/[\$\^]/g,""))}this.init=o}function MdHighlight(e,t){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,o){var l=t(o.mdHighlightText),i=e(n.html());return function(e,t,n,o){o.init(l,i)}}}}function MdAutocompleteParentScope(e){function t(t,n,o){var l=t.$parent.$mdAutocompleteCtrl;e(n.contents())(l.parent),o.hasOwnProperty("mdAutocompleteReplace")&&(n.after(n.contents()),n.remove())}return{restrict:"A",terminal:!0,link:t,scope:!1}}goog.provide("ng.material.components.autocomplete"),goog.require("ng.material.components.icon"),goog.require("ng.material.components.virtualRepeat"),goog.require("ng.material.core"),angular.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"]),angular.module("material.components.autocomplete").controller("MdAutocompleteCtrl",MdAutocompleteCtrl);var ITEM_HEIGHT=41,MAX_HEIGHT=5.5*ITEM_HEIGHT,MENU_PADDING=8;MdAutocompleteCtrl.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q"],angular.module("material.components.autocomplete").directive("mdAutocomplete",MdAutocomplete),angular.module("material.components.autocomplete").controller("MdHighlightCtrl",MdHighlightCtrl),MdHighlightCtrl.$inject=["$scope","$element","$attrs"],angular.module("material.components.autocomplete").directive("mdHighlightText",MdHighlight),MdHighlight.$inject=["$interpolate","$parse"],angular.module("material.components.autocomplete").directive("mdAutocompleteParentScope",MdAutocompleteParentScope),MdAutocompleteParentScope.$inject=["$compile"],ng.material.components.autocomplete=angular.module("material.components.autocomplete");