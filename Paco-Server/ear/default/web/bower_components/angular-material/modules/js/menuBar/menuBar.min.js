/*!
 * Angular Material Design
 * https://github.com/angular/material
 * @license MIT
 * v0.11.0-rc1-master-d74f93a
 */
!function(e,t,n){"use strict";function o(e,n,o,i,r,s,u){this.$element=n,this.$attrs=o,this.$mdConstant=i,this.$mdUtil=s,this.$document=r,this.$scope=e,this.$timeout=u;var a=this;t.forEach(l,function(e){a[e]=t.bind(a,a[e])})}function i(e,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(o,i){return i.ariaRole||o[0].setAttribute("role","menubar"),t.forEach(o[0].children,function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||n.setAttribute("md-position-mode","left bottom"),n.setAttribute("role","menu");var o=e.nodesToArray(n.querySelectorAll("md-menu-content"));t.forEach(o,function(e){e.classList.add("md-menu-bar-menu"),e.classList.add("md-dense"),e.hasAttribute("width")||e.setAttribute("width",5)})}}),function(e,t,o,i){n(e,t),i.init()}}}}function r(){return{restrict:"E",compile:function(e,t){t.role||e[0].setAttribute("role","separator")}}}function s(e,t,n){this.$element=t,this.$attrs=n,this.$scope=e}function u(){return{require:["mdMenuItem","?ngModel"],compile:function(e,n){function o(t,n){e[0].hasAttribute(t)||e[0].setAttribute(t,n)}function i(t){if(e[0].hasAttribute(t)){var n=e[0].getAttribute(t);s[0].setAttribute(t,n),e[0].removeAttribute(t)}}if("checkbox"==n.type||"radio"==n.type){var r=e[0].textContent,s=t.element('<md-button type="button"></md-button>');s.html(r),s.attr("tabindex","0"),e.html(""),e.append(t.element('<md-icon md-svg-icon="check"></md-icon>')),e.append(s),e[0].classList.add("md-indent"),o("role","checkbox"==n.type?"menuitemcheckbox":"menuitemradio"),t.forEach(["ng-disabled"],i)}else o("role","menuitem");return function(e,t,n,o){var i=o[0],r=o[1];i.init(r)}},controller:"MenuItemController"}}t.module("material.components.menuBar",["material.core","material.components.menu"]),t.module("material.components.menuBar").controller("MenuBarController",o);var l=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];o.$inject=["$scope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],o.prototype.init=function(){var e=this.$element,o=this.$mdUtil,i=this.$scope,r=this;e.on("keydown",this.handleKeyDown),this.parentToolbar=o.getClosest(e,"MD-TOOLBAR"),i.$on("$mdMenuOpen",function(t,n){-1!=r.getMenus().indexOf(n[0])&&(e[0].classList.add("md-open"),n[0].classList.add("md-open"),r.currentlyOpenMenu=n.controller("mdMenu"),r.currentlyOpenMenu.registerContainerProxy(r.handleKeyDown),r.enableOpenOnHover())}),i.$on("$mdMenuClose",function(t,i){var s=r.getMenus();if(-1!=s.indexOf(i[0])&&(e[0].classList.remove("md-open"),i[0].classList.remove("md-open")),e[0].contains(i[0])){for(var u=i[0];u&&-1==s.indexOf(u);)u=o.getClosest(u,"MD-MENU",!0);u&&(u.querySelector("button").focus(),r.currentlyOpenMenu=n,r.disableOpenOnHover(),r.setKeyboardMode(!0))}}),t.element(this.getMenus()).on("mouseenter",this.handleMenuHover),this.setKeyboardMode(!0)},o.prototype.setKeyboardMode=function(e){e?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},o.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){this.openOnHoverEnabled=!0;var e;this.$element;(e=this.parentToolbar)&&(e.dataset.mdRestoreStyle=e.getAttribute("style"),e.style.position="relative",e.style.zIndex=100)}},o.prototype.handleMenuHover=function(e){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(e)},o.prototype.disableOpenOnHover=function(){if(this.openOnHoverEnabled){this.openOnHoverEnabled=!1;var e;(e=this.parentToolbar)&&e.setAttribute("style",e.dataset.mdRestoreStyle||"")}},o.prototype.scheduleOpenHoveredMenu=function(e){var n=t.element(e.currentTarget),o=n.controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(o)},o.prototype.scheduleOpenMenu=function(e){var t=this,o=this.$timeout;e!=t.currentlyOpenMenu&&(o.cancel(t.pendingMenuOpen),t.pendingMenuOpen=o(function(){t.pendingMenuOpen=n,t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0}),e.open()},200,!1))},o.prototype.handleKeyDown=function(e){var n=this.$mdConstant.KEY_CODE,o=this.currentlyOpenMenu,i=o&&o.isOpen;this.setKeyboardMode(!0);var r;switch(e.keyCode){case n.DOWN_ARROW:o?o.focusMenuContainer():this.openFocusedMenu(),r=!0;break;case n.UP_ARROW:o&&o.close(),r=!0;break;case n.LEFT_ARROW:var s=this.focusMenu(-1);if(i){var u=t.element(s).controller("mdMenu");this.scheduleOpenMenu(u)}r=!0;break;case n.RIGHT_ARROW:var s=this.focusMenu(1);if(i){var u=t.element(s).controller("mdMenu");this.scheduleOpenMenu(u)}r=!0}r&&(e&&e.preventDefault&&e.preventDefault(),e&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},o.prototype.focusMenu=function(e){var t=this.getMenus(),n=this.getFocusedMenuIndex();-1==n&&(n=this.getOpenMenuIndex());var o=!1;return-1==n?n=0:(0>e&&n>0||e>0&&n<t.length-e)&&(n+=e,o=!0),o?(t[n].querySelector("button").focus(),t[n]):void 0},o.prototype.openFocusedMenu=function(){var e=this.getFocusedMenu();e&&t.element(e).controller("mdMenu").open()},o.prototype.getMenus=function(){var e=this.$element;return this.$mdUtil.nodesToArray(e[0].children).filter(function(e){return"MD-MENU"==e.nodeName})},o.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},o.prototype.getFocusedMenuIndex=function(){var e=this.$mdUtil,t=(this.$element,e.getClosest(this.$document[0].activeElement,"MD-MENU"));if(!t)return-1;var n=this.getMenus().indexOf(t);return n},o.prototype.getOpenMenuIndex=function(){for(var e=this.getMenus(),t=0;t<e.length;++t)if(e[t].classList.contains("md-open"))return t;return-1},t.module("material.components.menuBar").directive("mdMenuBar",i),i.$inject=["$mdUtil","$mdTheming"],t.module("material.components.menuBar").directive("mdMenuDivider",r),t.module("material.components.menuBar").controller("MenuItemController",s),s.$inject=["$scope","$element","$attrs"],s.prototype.init=function(e){var t=this.$element,n=this.$attrs;this.ngModel=e,("checkbox"==n.type||"radio"==n.type)&&(this.mode=n.type,this.iconEl=t[0].children[0],this.buttonEl=t[0].children[1],e&&this.initClickListeners())},s.prototype.initClickListeners=function(){function e(){if("radio"==u){var e=r.ngValue?i.$eval(r.ngValue):r.value;return o.$modelValue==e}return o.$modelValue}function n(e){e?a.off("click",d):a.on("click",d)}var o=this.ngModel,i=this.$scope,r=this.$attrs,s=this.$element,u=this.mode;this.handleClick=t.bind(this,this.handleClick);var l=this.iconEl,a=t.element(this.buttonEl),d=this.handleClick;r.$observe("disabled",n),n(r.disabled),o.$render=function(){e()?(l.style.display="",s.attr("aria-checked","true")):(l.style.display="none",s.attr("aria-checked","false"))},i.$$postDigest(o.$render)},s.prototype.handleClick=function(e){var t,n=this.mode,o=this.ngModel,i=this.$attrs;"checkbox"==n?t=!o.$modelValue:"radio"==n&&(t=i.ngValue?this.$scope.$eval(i.ngValue):i.value),o.$setViewValue(t),o.$render()},t.module("material.components.menuBar").directive("mdMenuItem",u)}(window,window.angular);