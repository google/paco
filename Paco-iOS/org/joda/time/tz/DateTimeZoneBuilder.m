//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: joda-time/src/main/java/org/joda/time/tz/DateTimeZoneBuilder.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/DataInput.h"
#include "java/io/DataInputStream.h"
#include "java/io/DataOutput.h"
#include "java/io/DataOutputStream.h"
#include "java/io/IOException.h"
#include "java/io/InputStream.h"
#include "java/io/OutputStream.h"
#include "java/io/PrintStream.h"
#include "java/lang/ArithmeticException.h"
#include "java/lang/ArrayIndexOutOfBoundsException.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"
#include "java/lang/Long.h"
#include "java/lang/System.h"
#include "java/lang/UnsupportedOperationException.h"
#include "java/text/DateFormatSymbols.h"
#include "java/util/ArrayList.h"
#include "java/util/Arrays.h"
#include "java/util/HashSet.h"
#include "java/util/Iterator.h"
#include "java/util/Locale.h"
#include "java/util/Set.h"
#include "org/joda/time/Chronology.h"
#include "org/joda/time/DateTime.h"
#include "org/joda/time/DateTimeField.h"
#include "org/joda/time/DateTimeUtils.h"
#include "org/joda/time/DateTimeZone.h"
#include "org/joda/time/Period.h"
#include "org/joda/time/PeriodType.h"
#include "org/joda/time/chrono/ISOChronology.h"
#include "org/joda/time/tz/CachedDateTimeZone.h"
#include "org/joda/time/tz/DateTimeZoneBuilder.h"
#include "org/joda/time/tz/FixedDateTimeZone.h"
#include "org/joda/time/tz/ZoneInfoLogger.h"

@class OrgJodaTimeTzDateTimeZoneBuilder_DSTZone;
@class OrgJodaTimeTzDateTimeZoneBuilder_RuleSet;
@class OrgJodaTimeTzDateTimeZoneBuilder_Transition;

@interface OrgJodaTimeTzDateTimeZoneBuilder () {
 @public
  JavaUtilArrayList *iRuleSets_;
}

+ (OrgJodaTimeDateTimeZone *)buildFixedZoneWithNSString:(NSString *)id_
                                           withNSString:(NSString *)nameKey
                                                withInt:(jint)wallOffset
                                                withInt:(jint)standardOffset;

- (OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *)getLastRuleSet;

- (jboolean)addTransitionWithJavaUtilArrayList:(JavaUtilArrayList *)transitions
withOrgJodaTimeTzDateTimeZoneBuilder_Transition:(OrgJodaTimeTzDateTimeZoneBuilder_Transition *)tr;

@end

J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder, iRuleSets_, JavaUtilArrayList *)

__attribute__((unused)) static OrgJodaTimeDateTimeZone *OrgJodaTimeTzDateTimeZoneBuilder_buildFixedZoneWithNSString_withNSString_withInt_withInt_(NSString *id_, NSString *nameKey, jint wallOffset, jint standardOffset);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *OrgJodaTimeTzDateTimeZoneBuilder_getLastRuleSet(OrgJodaTimeTzDateTimeZoneBuilder *self);

__attribute__((unused)) static jboolean OrgJodaTimeTzDateTimeZoneBuilder_addTransitionWithJavaUtilArrayList_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(OrgJodaTimeTzDateTimeZoneBuilder *self, JavaUtilArrayList *transitions, OrgJodaTimeTzDateTimeZoneBuilder_Transition *tr);

@interface OrgJodaTimeTzDateTimeZoneBuilder_OfYear : NSObject {
 @public
  jchar iMode_;
  jint iMonthOfYear_;
  jint iDayOfMonth_;
  jint iDayOfWeek_;
  jboolean iAdvance_;
  jint iMillisOfDay_;
}

+ (OrgJodaTimeTzDateTimeZoneBuilder_OfYear *)readFromWithJavaIoDataInput:(id<JavaIoDataInput>)inArg;

- (instancetype)initWithChar:(jchar)mode
                     withInt:(jint)monthOfYear
                     withInt:(jint)dayOfMonth
                     withInt:(jint)dayOfWeek
                 withBoolean:(jboolean)advanceDayOfWeek
                     withInt:(jint)millisOfDay;

- (jlong)setInstantWithInt:(jint)year
                   withInt:(jint)standardOffset
                   withInt:(jint)saveMillis;

- (jlong)nextWithLong:(jlong)instant
              withInt:(jint)standardOffset
              withInt:(jint)saveMillis;

- (jlong)previousWithLong:(jlong)instant
                  withInt:(jint)standardOffset
                  withInt:(jint)saveMillis;

- (jboolean)isEqual:(id)obj;

- (void)writeToWithJavaIoDataOutput:(id<JavaIoDataOutput>)outArg;

- (jlong)setDayOfMonthNextWithOrgJodaTimeChronology:(OrgJodaTimeChronology *)chrono
                                           withLong:(jlong)next;

- (jlong)setDayOfMonthPreviousWithOrgJodaTimeChronology:(OrgJodaTimeChronology *)chrono
                                               withLong:(jlong)prev;

- (jlong)setDayOfMonthWithOrgJodaTimeChronology:(OrgJodaTimeChronology *)chrono
                                       withLong:(jlong)instant;

- (jlong)setDayOfWeekWithOrgJodaTimeChronology:(OrgJodaTimeChronology *)chrono
                                      withLong:(jlong)instant;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgJodaTimeTzDateTimeZoneBuilder_OfYear)

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_OfYear *OrgJodaTimeTzDateTimeZoneBuilder_OfYear_readFromWithJavaIoDataInput_(id<JavaIoDataInput> inArg);

__attribute__((unused)) static void OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initWithChar_withInt_withInt_withInt_withBoolean_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *self, jchar mode, jint monthOfYear, jint dayOfMonth, jint dayOfWeek, jboolean advanceDayOfWeek, jint millisOfDay);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_OfYear *new_OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initWithChar_withInt_withInt_withInt_withBoolean_withInt_(jchar mode, jint monthOfYear, jint dayOfMonth, jint dayOfWeek, jboolean advanceDayOfWeek, jint millisOfDay) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_OfYear *create_OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initWithChar_withInt_withInt_withInt_withBoolean_withInt_(jchar mode, jint monthOfYear, jint dayOfMonth, jint dayOfWeek, jboolean advanceDayOfWeek, jint millisOfDay);

__attribute__((unused)) static jlong OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthNextWithOrgJodaTimeChronology_withLong_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *self, OrgJodaTimeChronology *chrono, jlong next);

__attribute__((unused)) static jlong OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthPreviousWithOrgJodaTimeChronology_withLong_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *self, OrgJodaTimeChronology *chrono, jlong prev);

__attribute__((unused)) static jlong OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthWithOrgJodaTimeChronology_withLong_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *self, OrgJodaTimeChronology *chrono, jlong instant);

__attribute__((unused)) static jlong OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfWeekWithOrgJodaTimeChronology_withLong_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *self, OrgJodaTimeChronology *chrono, jlong instant);

J2OBJC_TYPE_LITERAL_HEADER(OrgJodaTimeTzDateTimeZoneBuilder_OfYear)

@interface OrgJodaTimeTzDateTimeZoneBuilder_Recurrence : NSObject {
 @public
  OrgJodaTimeTzDateTimeZoneBuilder_OfYear *iOfYear_;
  NSString *iNameKey_;
  jint iSaveMillis_;
}

+ (OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)readFromWithJavaIoDataInput:(id<JavaIoDataInput>)inArg;

- (instancetype)initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear:(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *)ofYear
                                                   withNSString:(NSString *)nameKey
                                                        withInt:(jint)saveMillis;

- (OrgJodaTimeTzDateTimeZoneBuilder_OfYear *)getOfYear;

- (jlong)nextWithLong:(jlong)instant
              withInt:(jint)standardOffset
              withInt:(jint)saveMillis;

- (jlong)previousWithLong:(jlong)instant
                  withInt:(jint)standardOffset
                  withInt:(jint)saveMillis;

- (NSString *)getNameKey;

- (jint)getSaveMillis;

- (jboolean)isEqual:(id)obj;

- (void)writeToWithJavaIoDataOutput:(id<JavaIoDataOutput>)outArg;

- (OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)renameWithNSString:(NSString *)nameKey;

- (OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)renameAppendWithNSString:(NSString *)appendNameKey;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence)

J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence, iOfYear_, OrgJodaTimeTzDateTimeZoneBuilder_OfYear *)
J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence, iNameKey_, NSString *)

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_readFromWithJavaIoDataInput_(id<JavaIoDataInput> inArg);

__attribute__((unused)) static void OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear_withNSString_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *self, OrgJodaTimeTzDateTimeZoneBuilder_OfYear *ofYear, NSString *nameKey, jint saveMillis);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *new_OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear_withNSString_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *ofYear, NSString *nameKey, jint saveMillis) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *create_OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear_withNSString_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *ofYear, NSString *nameKey, jint saveMillis);

J2OBJC_TYPE_LITERAL_HEADER(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence)

@interface OrgJodaTimeTzDateTimeZoneBuilder_Rule : NSObject {
 @public
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *iRecurrence_;
  jint iFromYear_;
  jint iToYear_;
}

- (instancetype)initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence:(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)recurrence
                                                            withInt:(jint)fromYear
                                                            withInt:(jint)toYear;

- (jint)getFromYear;

- (jint)getToYear;

- (OrgJodaTimeTzDateTimeZoneBuilder_OfYear *)getOfYear;

- (NSString *)getNameKey;

- (jint)getSaveMillis;

- (jlong)nextWithLong:(jlong)instant
              withInt:(jint)standardOffset
              withInt:(jint)saveMillis;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgJodaTimeTzDateTimeZoneBuilder_Rule)

J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_Rule, iRecurrence_, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)

__attribute__((unused)) static void OrgJodaTimeTzDateTimeZoneBuilder_Rule_initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withInt_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_Rule *self, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *recurrence, jint fromYear, jint toYear);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_Rule *new_OrgJodaTimeTzDateTimeZoneBuilder_Rule_initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withInt_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *recurrence, jint fromYear, jint toYear) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_Rule *create_OrgJodaTimeTzDateTimeZoneBuilder_Rule_initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withInt_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *recurrence, jint fromYear, jint toYear);

J2OBJC_TYPE_LITERAL_HEADER(OrgJodaTimeTzDateTimeZoneBuilder_Rule)

@interface OrgJodaTimeTzDateTimeZoneBuilder_Transition : NSObject {
 @public
  jlong iMillis_;
  NSString *iNameKey_;
  jint iWallOffset_;
  jint iStandardOffset_;
}

- (instancetype)initWithLong:(jlong)millis
withOrgJodaTimeTzDateTimeZoneBuilder_Transition:(OrgJodaTimeTzDateTimeZoneBuilder_Transition *)tr;

- (instancetype)initWithLong:(jlong)millis
withOrgJodaTimeTzDateTimeZoneBuilder_Rule:(OrgJodaTimeTzDateTimeZoneBuilder_Rule *)rule
                     withInt:(jint)standardOffset;

- (instancetype)initWithLong:(jlong)millis
                withNSString:(NSString *)nameKey
                     withInt:(jint)wallOffset
                     withInt:(jint)standardOffset;

- (jlong)getMillis;

- (NSString *)getNameKey;

- (jint)getWallOffset;

- (jint)getStandardOffset;

- (jint)getSaveMillis;

- (jboolean)isTransitionFromWithOrgJodaTimeTzDateTimeZoneBuilder_Transition:(OrgJodaTimeTzDateTimeZoneBuilder_Transition *)other;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgJodaTimeTzDateTimeZoneBuilder_Transition)

J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_Transition, iNameKey_, NSString *)

__attribute__((unused)) static void OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(OrgJodaTimeTzDateTimeZoneBuilder_Transition *self, jlong millis, OrgJodaTimeTzDateTimeZoneBuilder_Transition *tr);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_Transition *new_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(jlong millis, OrgJodaTimeTzDateTimeZoneBuilder_Transition *tr) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_Transition *create_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(jlong millis, OrgJodaTimeTzDateTimeZoneBuilder_Transition *tr);

__attribute__((unused)) static void OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Rule_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_Transition *self, jlong millis, OrgJodaTimeTzDateTimeZoneBuilder_Rule *rule, jint standardOffset);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_Transition *new_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Rule_withInt_(jlong millis, OrgJodaTimeTzDateTimeZoneBuilder_Rule *rule, jint standardOffset) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_Transition *create_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Rule_withInt_(jlong millis, OrgJodaTimeTzDateTimeZoneBuilder_Rule *rule, jint standardOffset);

__attribute__((unused)) static void OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withNSString_withInt_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_Transition *self, jlong millis, NSString *nameKey, jint wallOffset, jint standardOffset);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_Transition *new_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withNSString_withInt_withInt_(jlong millis, NSString *nameKey, jint wallOffset, jint standardOffset) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_Transition *create_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withNSString_withInt_withInt_(jlong millis, NSString *nameKey, jint wallOffset, jint standardOffset);

J2OBJC_TYPE_LITERAL_HEADER(OrgJodaTimeTzDateTimeZoneBuilder_Transition)

@interface OrgJodaTimeTzDateTimeZoneBuilder_RuleSet : NSObject {
 @public
  jint iStandardOffset_;
  JavaUtilArrayList *iRules_;
  NSString *iInitialNameKey_;
  jint iInitialSaveMillis_;
  jint iUpperYear_;
  OrgJodaTimeTzDateTimeZoneBuilder_OfYear *iUpperOfYear_;
}

- (instancetype)init;

- (instancetype)initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet:(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *)rs;

- (jint)getStandardOffset;

- (void)setStandardOffsetWithInt:(jint)standardOffset;

- (void)setFixedSavingsWithNSString:(NSString *)nameKey
                            withInt:(jint)saveMillis;

- (void)addRuleWithOrgJodaTimeTzDateTimeZoneBuilder_Rule:(OrgJodaTimeTzDateTimeZoneBuilder_Rule *)rule;

- (void)setUpperLimitWithInt:(jint)year
withOrgJodaTimeTzDateTimeZoneBuilder_OfYear:(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *)ofYear;

- (OrgJodaTimeTzDateTimeZoneBuilder_Transition *)firstTransitionWithLong:(jlong)firstMillis;

- (OrgJodaTimeTzDateTimeZoneBuilder_Transition *)nextTransitionWithLong:(jlong)instant
                                                                withInt:(jint)saveMillis;

- (jlong)getUpperLimitWithInt:(jint)saveMillis;

- (OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *)buildTailZoneWithNSString:(NSString *)id_;

@end

J2OBJC_STATIC_INIT(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet)

J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet, iRules_, JavaUtilArrayList *)
J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet, iInitialNameKey_, NSString *)
J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet, iUpperOfYear_, OrgJodaTimeTzDateTimeZoneBuilder_OfYear *)

inline jint OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_get_YEAR_LIMIT();
static jint OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_YEAR_LIMIT;
J2OBJC_STATIC_FIELD_PRIMITIVE_FINAL(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet, YEAR_LIMIT, jint)

__attribute__((unused)) static void OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_init(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *self);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *new_OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *create_OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_init();

__attribute__((unused)) static void OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet_(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *self, OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *rs);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *new_OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet_(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *rs) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *create_OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet_(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *rs);

J2OBJC_TYPE_LITERAL_HEADER(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet)

@interface OrgJodaTimeTzDateTimeZoneBuilder_DSTZone : OrgJodaTimeDateTimeZone {
 @public
  jint iStandardOffset_;
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *iStartRecurrence_;
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *iEndRecurrence_;
}

+ (OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *)readFromWithJavaIoDataInput:(id<JavaIoDataInput>)inArg
                                                             withNSString:(NSString *)id_;

- (instancetype)initWithNSString:(NSString *)id_
                         withInt:(jint)standardOffset
withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence:(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)startRecurrence
withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence:(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)endRecurrence;

- (NSString *)getNameKeyWithLong:(jlong)instant;

- (jint)getOffsetWithLong:(jlong)instant;

- (jint)getStandardOffsetWithLong:(jlong)instant;

- (jboolean)isFixed;

- (jlong)nextTransitionWithLong:(jlong)instant;

- (jlong)previousTransitionWithLong:(jlong)instant;

- (jboolean)isEqual:(id)obj;

- (void)writeToWithJavaIoDataOutput:(id<JavaIoDataOutput>)outArg;

- (OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)findMatchingRecurrenceWithLong:(jlong)instant;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone)

J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone, iStartRecurrence_, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)
J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone, iEndRecurrence_, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)

inline jlong OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_get_serialVersionUID();
#define OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_serialVersionUID 6941492635554961361LL
J2OBJC_STATIC_FIELD_CONSTANT(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone, serialVersionUID, jlong)

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_readFromWithJavaIoDataInput_withNSString_(id<JavaIoDataInput> inArg, NSString *id_);

__attribute__((unused)) static void OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *self, NSString *id_, jint standardOffset, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *startRecurrence, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *endRecurrence);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *new_OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_(NSString *id_, jint standardOffset, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *startRecurrence, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *endRecurrence) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *create_OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_(NSString *id_, jint standardOffset, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *startRecurrence, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *endRecurrence);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_findMatchingRecurrenceWithLong_(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *self, jlong instant);

J2OBJC_TYPE_LITERAL_HEADER(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone)

@interface OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone : OrgJodaTimeDateTimeZone {
 @public
  IOSLongArray *iTransitions_;
  IOSIntArray *iWallOffsets_;
  IOSIntArray *iStandardOffsets_;
  IOSObjectArray *iNameKeys_;
  OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *iTailZone_;
}

+ (OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *)readFromWithJavaIoDataInput:(id<JavaIoDataInput>)inArg
                                                                       withNSString:(NSString *)id_;

+ (OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *)createWithNSString:(NSString *)id_
                                                               withBoolean:(jboolean)outputID
                                                     withJavaUtilArrayList:(JavaUtilArrayList *)transitions
                              withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone:(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *)tailZone;

- (instancetype)initWithNSString:(NSString *)id_
                   withLongArray:(IOSLongArray *)transitions
                    withIntArray:(IOSIntArray *)wallOffsets
                    withIntArray:(IOSIntArray *)standardOffsets
               withNSStringArray:(IOSObjectArray *)nameKeys
withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone:(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *)tailZone;

- (NSString *)getNameKeyWithLong:(jlong)instant;

- (jint)getOffsetWithLong:(jlong)instant;

- (jint)getStandardOffsetWithLong:(jlong)instant;

- (jboolean)isFixed;

- (jlong)nextTransitionWithLong:(jlong)instant;

- (jlong)previousTransitionWithLong:(jlong)instant;

- (jboolean)isEqual:(id)obj;

- (void)writeToWithJavaIoDataOutput:(id<JavaIoDataOutput>)outArg;

- (jboolean)isCachable;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone)

J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone, iTransitions_, IOSLongArray *)
J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone, iWallOffsets_, IOSIntArray *)
J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone, iStandardOffsets_, IOSIntArray *)
J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone, iNameKeys_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone, iTailZone_, OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *)

inline jlong OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_get_serialVersionUID();
#define OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_serialVersionUID 7811976468055766265LL
J2OBJC_STATIC_FIELD_CONSTANT(OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone, serialVersionUID, jlong)

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_readFromWithJavaIoDataInput_withNSString_(id<JavaIoDataInput> inArg, NSString *id_);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_createWithNSString_withBoolean_withJavaUtilArrayList_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(NSString *id_, jboolean outputID, JavaUtilArrayList *transitions, OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *tailZone);

__attribute__((unused)) static void OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initWithNSString_withLongArray_withIntArray_withIntArray_withNSStringArray_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *self, NSString *id_, IOSLongArray *transitions, IOSIntArray *wallOffsets, IOSIntArray *standardOffsets, IOSObjectArray *nameKeys, OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *tailZone);

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *new_OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initWithNSString_withLongArray_withIntArray_withIntArray_withNSStringArray_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(NSString *id_, IOSLongArray *transitions, IOSIntArray *wallOffsets, IOSIntArray *standardOffsets, IOSObjectArray *nameKeys, OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *tailZone) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *create_OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initWithNSString_withLongArray_withIntArray_withIntArray_withNSStringArray_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(NSString *id_, IOSLongArray *transitions, IOSIntArray *wallOffsets, IOSIntArray *standardOffsets, IOSObjectArray *nameKeys, OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *tailZone);

J2OBJC_TYPE_LITERAL_HEADER(OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone)

@implementation OrgJodaTimeTzDateTimeZoneBuilder

+ (OrgJodaTimeDateTimeZone *)readFromWithJavaIoInputStream:(JavaIoInputStream *)inArg
                                              withNSString:(NSString *)id_ {
  return OrgJodaTimeTzDateTimeZoneBuilder_readFromWithJavaIoInputStream_withNSString_(inArg, id_);
}

+ (OrgJodaTimeDateTimeZone *)readFromWithJavaIoDataInput:(id<JavaIoDataInput>)inArg
                                            withNSString:(NSString *)id_ {
  return OrgJodaTimeTzDateTimeZoneBuilder_readFromWithJavaIoDataInput_withNSString_(inArg, id_);
}

+ (void)writeMillisWithJavaIoDataOutput:(id<JavaIoDataOutput>)outArg
                               withLong:(jlong)millis {
  OrgJodaTimeTzDateTimeZoneBuilder_writeMillisWithJavaIoDataOutput_withLong_(outArg, millis);
}

+ (jlong)readMillisWithJavaIoDataInput:(id<JavaIoDataInput>)inArg {
  return OrgJodaTimeTzDateTimeZoneBuilder_readMillisWithJavaIoDataInput_(inArg);
}

+ (OrgJodaTimeDateTimeZone *)buildFixedZoneWithNSString:(NSString *)id_
                                           withNSString:(NSString *)nameKey
                                                withInt:(jint)wallOffset
                                                withInt:(jint)standardOffset {
  return OrgJodaTimeTzDateTimeZoneBuilder_buildFixedZoneWithNSString_withNSString_withInt_withInt_(id_, nameKey, wallOffset, standardOffset);
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgJodaTimeTzDateTimeZoneBuilder_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (OrgJodaTimeTzDateTimeZoneBuilder *)addCutoverWithInt:(jint)year
                                               withChar:(jchar)mode
                                                withInt:(jint)monthOfYear
                                                withInt:(jint)dayOfMonth
                                                withInt:(jint)dayOfWeek
                                            withBoolean:(jboolean)advanceDayOfWeek
                                                withInt:(jint)millisOfDay {
  if ([((JavaUtilArrayList *) nil_chk(iRuleSets_)) size] > 0) {
    OrgJodaTimeTzDateTimeZoneBuilder_OfYear *ofYear = create_OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initWithChar_withInt_withInt_withInt_withBoolean_withInt_(mode, monthOfYear, dayOfMonth, dayOfWeek, advanceDayOfWeek, millisOfDay);
    OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *lastRuleSet = [iRuleSets_ getWithInt:[iRuleSets_ size] - 1];
    [((OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *) nil_chk(lastRuleSet)) setUpperLimitWithInt:year withOrgJodaTimeTzDateTimeZoneBuilder_OfYear:ofYear];
  }
  [iRuleSets_ addWithId:create_OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_init()];
  return self;
}

- (OrgJodaTimeTzDateTimeZoneBuilder *)setStandardOffsetWithInt:(jint)standardOffset {
  [((OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *) nil_chk(OrgJodaTimeTzDateTimeZoneBuilder_getLastRuleSet(self))) setStandardOffsetWithInt:standardOffset];
  return self;
}

- (OrgJodaTimeTzDateTimeZoneBuilder *)setFixedSavingsWithNSString:(NSString *)nameKey
                                                          withInt:(jint)saveMillis {
  [((OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *) nil_chk(OrgJodaTimeTzDateTimeZoneBuilder_getLastRuleSet(self))) setFixedSavingsWithNSString:nameKey withInt:saveMillis];
  return self;
}

- (OrgJodaTimeTzDateTimeZoneBuilder *)addRecurringSavingsWithNSString:(NSString *)nameKey
                                                              withInt:(jint)saveMillis
                                                              withInt:(jint)fromYear
                                                              withInt:(jint)toYear
                                                             withChar:(jchar)mode
                                                              withInt:(jint)monthOfYear
                                                              withInt:(jint)dayOfMonth
                                                              withInt:(jint)dayOfWeek
                                                          withBoolean:(jboolean)advanceDayOfWeek
                                                              withInt:(jint)millisOfDay {
  if (fromYear <= toYear) {
    OrgJodaTimeTzDateTimeZoneBuilder_OfYear *ofYear = create_OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initWithChar_withInt_withInt_withInt_withBoolean_withInt_(mode, monthOfYear, dayOfMonth, dayOfWeek, advanceDayOfWeek, millisOfDay);
    OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *recurrence = create_OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear_withNSString_withInt_(ofYear, nameKey, saveMillis);
    OrgJodaTimeTzDateTimeZoneBuilder_Rule *rule = create_OrgJodaTimeTzDateTimeZoneBuilder_Rule_initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withInt_withInt_(recurrence, fromYear, toYear);
    [((OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *) nil_chk(OrgJodaTimeTzDateTimeZoneBuilder_getLastRuleSet(self))) addRuleWithOrgJodaTimeTzDateTimeZoneBuilder_Rule:rule];
  }
  return self;
}

- (OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *)getLastRuleSet {
  return OrgJodaTimeTzDateTimeZoneBuilder_getLastRuleSet(self);
}

- (OrgJodaTimeDateTimeZone *)toDateTimeZoneWithNSString:(NSString *)id_
                                            withBoolean:(jboolean)outputID {
  if (id_ == nil) {
    @throw create_JavaLangIllegalArgumentException_init();
  }
  JavaUtilArrayList *transitions = create_JavaUtilArrayList_init();
  OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *tailZone = nil;
  jlong millis = JavaLangLong_MIN_VALUE;
  jint saveMillis = 0;
  jint ruleSetCount = [((JavaUtilArrayList *) nil_chk(iRuleSets_)) size];
  for (jint i = 0; i < ruleSetCount; i++) {
    OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *rs = [iRuleSets_ getWithInt:i];
    OrgJodaTimeTzDateTimeZoneBuilder_Transition *next = [((OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *) nil_chk(rs)) firstTransitionWithLong:millis];
    if (next == nil) {
      continue;
    }
    OrgJodaTimeTzDateTimeZoneBuilder_addTransitionWithJavaUtilArrayList_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(self, transitions, next);
    millis = [((OrgJodaTimeTzDateTimeZoneBuilder_Transition *) nil_chk(next)) getMillis];
    saveMillis = [next getSaveMillis];
    rs = create_OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet_(rs);
    while ((next = [rs nextTransitionWithLong:millis withInt:saveMillis]) != nil) {
      if (OrgJodaTimeTzDateTimeZoneBuilder_addTransitionWithJavaUtilArrayList_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(self, transitions, next) && tailZone != nil) {
        break;
      }
      millis = [((OrgJodaTimeTzDateTimeZoneBuilder_Transition *) nil_chk(next)) getMillis];
      saveMillis = [next getSaveMillis];
      if (tailZone == nil && i == ruleSetCount - 1) {
        tailZone = [rs buildTailZoneWithNSString:id_];
      }
    }
    millis = [rs getUpperLimitWithInt:saveMillis];
  }
  if ([transitions size] == 0) {
    if (tailZone != nil) {
      return tailZone;
    }
    return OrgJodaTimeTzDateTimeZoneBuilder_buildFixedZoneWithNSString_withNSString_withInt_withInt_(id_, @"UTC", 0, 0);
  }
  if ([transitions size] == 1 && tailZone == nil) {
    OrgJodaTimeTzDateTimeZoneBuilder_Transition *tr = [transitions getWithInt:0];
    return OrgJodaTimeTzDateTimeZoneBuilder_buildFixedZoneWithNSString_withNSString_withInt_withInt_(id_, [((OrgJodaTimeTzDateTimeZoneBuilder_Transition *) nil_chk(tr)) getNameKey], [tr getWallOffset], [tr getStandardOffset]);
  }
  OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *zone = OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_createWithNSString_withBoolean_withJavaUtilArrayList_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(id_, outputID, transitions, tailZone);
  if ([((OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *) nil_chk(zone)) isCachable]) {
    return OrgJodaTimeTzCachedDateTimeZone_forZoneWithOrgJodaTimeDateTimeZone_(zone);
  }
  return zone;
}

- (jboolean)addTransitionWithJavaUtilArrayList:(JavaUtilArrayList *)transitions
withOrgJodaTimeTzDateTimeZoneBuilder_Transition:(OrgJodaTimeTzDateTimeZoneBuilder_Transition *)tr {
  return OrgJodaTimeTzDateTimeZoneBuilder_addTransitionWithJavaUtilArrayList_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(self, transitions, tr);
}

- (void)writeToWithNSString:(NSString *)zoneID
     withJavaIoOutputStream:(JavaIoOutputStream *)outArg {
  if ([JavaIoDataOutput_class_() isInstance:outArg]) {
    [self writeToWithNSString:zoneID withJavaIoDataOutput:(id<JavaIoDataOutput>) cast_check(outArg, JavaIoDataOutput_class_())];
  }
  else {
    JavaIoDataOutputStream *dout = create_JavaIoDataOutputStream_initWithJavaIoOutputStream_(outArg);
    [self writeToWithNSString:zoneID withJavaIoDataOutput:dout];
    [dout flush];
  }
}

- (void)writeToWithNSString:(NSString *)zoneID
       withJavaIoDataOutput:(id<JavaIoDataOutput>)outArg {
  OrgJodaTimeDateTimeZone *zone = [self toDateTimeZoneWithNSString:zoneID withBoolean:false];
  if ([zone isKindOfClass:[OrgJodaTimeTzFixedDateTimeZone class]]) {
    [((id<JavaIoDataOutput>) nil_chk(outArg)) writeByteWithInt:'F'];
    [outArg writeUTFWithNSString:[((OrgJodaTimeDateTimeZone *) nil_chk(zone)) getNameKeyWithLong:0]];
    OrgJodaTimeTzDateTimeZoneBuilder_writeMillisWithJavaIoDataOutput_withLong_(outArg, [zone getOffsetWithLong:0]);
    OrgJodaTimeTzDateTimeZoneBuilder_writeMillisWithJavaIoDataOutput_withLong_(outArg, [zone getStandardOffsetWithLong:0]);
  }
  else {
    if ([zone isKindOfClass:[OrgJodaTimeTzCachedDateTimeZone class]]) {
      [((id<JavaIoDataOutput>) nil_chk(outArg)) writeByteWithInt:'C'];
      zone = [((OrgJodaTimeTzCachedDateTimeZone *) nil_chk(((OrgJodaTimeTzCachedDateTimeZone *) cast_chk(zone, [OrgJodaTimeTzCachedDateTimeZone class])))) getUncachedZone];
    }
    else {
      [((id<JavaIoDataOutput>) nil_chk(outArg)) writeByteWithInt:'P'];
    }
    [((OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *) nil_chk(((OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *) cast_chk(zone, [OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone class])))) writeToWithJavaIoDataOutput:outArg];
  }
}

- (void)dealloc {
  RELEASE_(iRuleSets_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "readFromWithJavaIoInputStream:withNSString:", "readFrom", "Lorg.joda.time.DateTimeZone;", 0x9, "Ljava.io.IOException;", NULL },
    { "readFromWithJavaIoDataInput:withNSString:", "readFrom", "Lorg.joda.time.DateTimeZone;", 0x9, "Ljava.io.IOException;", NULL },
    { "writeMillisWithJavaIoDataOutput:withLong:", "writeMillis", "V", 0x8, "Ljava.io.IOException;", NULL },
    { "readMillisWithJavaIoDataInput:", "readMillis", "J", 0x8, "Ljava.io.IOException;", NULL },
    { "buildFixedZoneWithNSString:withNSString:withInt:withInt:", "buildFixedZone", "Lorg.joda.time.DateTimeZone;", 0xa, NULL, NULL },
    { "init", "DateTimeZoneBuilder", NULL, 0x1, NULL, NULL },
    { "addCutoverWithInt:withChar:withInt:withInt:withInt:withBoolean:withInt:", "addCutover", "Lorg.joda.time.tz.DateTimeZoneBuilder;", 0x1, NULL, NULL },
    { "setStandardOffsetWithInt:", "setStandardOffset", "Lorg.joda.time.tz.DateTimeZoneBuilder;", 0x1, NULL, NULL },
    { "setFixedSavingsWithNSString:withInt:", "setFixedSavings", "Lorg.joda.time.tz.DateTimeZoneBuilder;", 0x1, NULL, NULL },
    { "addRecurringSavingsWithNSString:withInt:withInt:withInt:withChar:withInt:withInt:withInt:withBoolean:withInt:", "addRecurringSavings", "Lorg.joda.time.tz.DateTimeZoneBuilder;", 0x1, NULL, NULL },
    { "getLastRuleSet", NULL, "Lorg.joda.time.tz.DateTimeZoneBuilder$RuleSet;", 0x2, NULL, NULL },
    { "toDateTimeZoneWithNSString:withBoolean:", "toDateTimeZone", "Lorg.joda.time.DateTimeZone;", 0x1, NULL, NULL },
    { "addTransitionWithJavaUtilArrayList:withOrgJodaTimeTzDateTimeZoneBuilder_Transition:", "addTransition", "Z", 0x2, NULL, "(Ljava/util/ArrayList<Lorg/joda/time/tz/DateTimeZoneBuilder$Transition;>;Lorg/joda/time/tz/DateTimeZoneBuilder$Transition;)Z" },
    { "writeToWithNSString:withJavaIoOutputStream:", "writeTo", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "writeToWithNSString:withJavaIoDataOutput:", "writeTo", "V", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "iRuleSets_", NULL, 0x12, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lorg/joda/time/tz/DateTimeZoneBuilder$RuleSet;>;", .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.joda.time.tz.DateTimeZoneBuilder$OfYear;", "Lorg.joda.time.tz.DateTimeZoneBuilder$Recurrence;", "Lorg.joda.time.tz.DateTimeZoneBuilder$Rule;", "Lorg.joda.time.tz.DateTimeZoneBuilder$Transition;", "Lorg.joda.time.tz.DateTimeZoneBuilder$RuleSet;", "Lorg.joda.time.tz.DateTimeZoneBuilder$DSTZone;", "Lorg.joda.time.tz.DateTimeZoneBuilder$PrecalculatedZone;"};
  static const J2ObjcClassInfo _OrgJodaTimeTzDateTimeZoneBuilder = { 2, "DateTimeZoneBuilder", "org.joda.time.tz", NULL, 0x1, 15, methods, 1, fields, 0, NULL, 7, inner_classes, NULL, NULL };
  return &_OrgJodaTimeTzDateTimeZoneBuilder;
}

@end

OrgJodaTimeDateTimeZone *OrgJodaTimeTzDateTimeZoneBuilder_readFromWithJavaIoInputStream_withNSString_(JavaIoInputStream *inArg, NSString *id_) {
  OrgJodaTimeTzDateTimeZoneBuilder_initialize();
  if ([JavaIoDataInput_class_() isInstance:inArg]) {
    return OrgJodaTimeTzDateTimeZoneBuilder_readFromWithJavaIoDataInput_withNSString_((id<JavaIoDataInput>) cast_check(inArg, JavaIoDataInput_class_()), id_);
  }
  else {
    return OrgJodaTimeTzDateTimeZoneBuilder_readFromWithJavaIoDataInput_withNSString_(create_JavaIoDataInputStream_initWithJavaIoInputStream_(inArg), id_);
  }
}

OrgJodaTimeDateTimeZone *OrgJodaTimeTzDateTimeZoneBuilder_readFromWithJavaIoDataInput_withNSString_(id<JavaIoDataInput> inArg, NSString *id_) {
  OrgJodaTimeTzDateTimeZoneBuilder_initialize();
  {
    OrgJodaTimeDateTimeZone *fixed;
    switch ([((id<JavaIoDataInput>) nil_chk(inArg)) readUnsignedByte]) {
      case 'F':
      fixed = create_OrgJodaTimeTzFixedDateTimeZone_initWithNSString_withNSString_withInt_withInt_(id_, [inArg readUTF], (jint) OrgJodaTimeTzDateTimeZoneBuilder_readMillisWithJavaIoDataInput_(inArg), (jint) OrgJodaTimeTzDateTimeZoneBuilder_readMillisWithJavaIoDataInput_(inArg));
      if ([fixed isEqual:JreLoadStatic(OrgJodaTimeDateTimeZone, UTC)]) {
        fixed = JreLoadStatic(OrgJodaTimeDateTimeZone, UTC);
      }
      return fixed;
      case 'C':
      return OrgJodaTimeTzCachedDateTimeZone_forZoneWithOrgJodaTimeDateTimeZone_(OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_readFromWithJavaIoDataInput_withNSString_(inArg, id_));
      case 'P':
      return OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_readFromWithJavaIoDataInput_withNSString_(inArg, id_);
      default:
      @throw create_JavaIoIOException_initWithNSString_(@"Invalid encoding");
    }
  }
}

void OrgJodaTimeTzDateTimeZoneBuilder_writeMillisWithJavaIoDataOutput_withLong_(id<JavaIoDataOutput> outArg, jlong millis) {
  OrgJodaTimeTzDateTimeZoneBuilder_initialize();
  if (millis % (30 * 60000LL) == 0) {
    jlong units = millis / (30 * 60000LL);
    if ((JreRShift64((JreLShift64(units, (64 - 6))), (64 - 6))) == units) {
      [((id<JavaIoDataOutput>) nil_chk(outArg)) writeByteWithInt:(jint) (units & (jint) 0x3f)];
      return;
    }
  }
  if (millis % 60000LL == 0) {
    jlong minutes = millis / 60000LL;
    if ((JreRShift64((JreLShift64(minutes, (64 - 30))), (64 - 30))) == minutes) {
      [((id<JavaIoDataOutput>) nil_chk(outArg)) writeIntWithInt:(jint) 0x40000000 | (jint) (minutes & (jint) 0x3fffffff)];
      return;
    }
  }
  if (millis % 1000LL == 0) {
    jlong seconds = millis / 1000LL;
    if ((JreRShift64((JreLShift64(seconds, (64 - 38))), (64 - 38))) == seconds) {
      [((id<JavaIoDataOutput>) nil_chk(outArg)) writeByteWithInt:(jint) 0x80 | (jint) ((JreRShift64(seconds, 32)) & (jint) 0x3f)];
      [outArg writeIntWithInt:(jint) (seconds & (jint) 0xffffffff)];
      return;
    }
  }
  [((id<JavaIoDataOutput>) nil_chk(outArg)) writeByteWithInt:millis < 0 ? (jint) 0xff : (jint) 0xc0];
  [outArg writeLongWithLong:millis];
}

jlong OrgJodaTimeTzDateTimeZoneBuilder_readMillisWithJavaIoDataInput_(id<JavaIoDataInput> inArg) {
  OrgJodaTimeTzDateTimeZoneBuilder_initialize();
  jint v = [((id<JavaIoDataInput>) nil_chk(inArg)) readUnsignedByte];
  {
    jlong w;
    switch (JreRShift32(v, 6)) {
      case 0:
      default:
      v = JreRShift32((JreLShift32(v, (32 - 6))), (32 - 6));
      return v * (30 * 60000LL);
      case 1:
      v = JreRShift32((JreLShift32(v, (32 - 6))), (32 - 30));
      v |= JreLShift32(([inArg readUnsignedByte]), 16);
      v |= JreLShift32(([inArg readUnsignedByte]), 8);
      v |= ([inArg readUnsignedByte]);
      return v * 60000LL;
      case 2:
      w = JreRShift64((JreLShift64(((jlong) v), (64 - 6))), (64 - 38));
      w |= JreLShift32(([inArg readUnsignedByte]), 24);
      w |= JreLShift32(([inArg readUnsignedByte]), 16);
      w |= JreLShift32(([inArg readUnsignedByte]), 8);
      w |= ([inArg readUnsignedByte]);
      return w * 1000LL;
      case 3:
      return [inArg readLong];
    }
  }
}

OrgJodaTimeDateTimeZone *OrgJodaTimeTzDateTimeZoneBuilder_buildFixedZoneWithNSString_withNSString_withInt_withInt_(NSString *id_, NSString *nameKey, jint wallOffset, jint standardOffset) {
  OrgJodaTimeTzDateTimeZoneBuilder_initialize();
  if ([@"UTC" isEqual:id_] && [((NSString *) nil_chk(id_)) isEqual:nameKey] && wallOffset == 0 && standardOffset == 0) {
    return JreLoadStatic(OrgJodaTimeDateTimeZone, UTC);
  }
  return create_OrgJodaTimeTzFixedDateTimeZone_initWithNSString_withNSString_withInt_withInt_(id_, nameKey, wallOffset, standardOffset);
}

void OrgJodaTimeTzDateTimeZoneBuilder_init(OrgJodaTimeTzDateTimeZoneBuilder *self) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->iRuleSets_, new_JavaUtilArrayList_initWithInt_(10));
}

OrgJodaTimeTzDateTimeZoneBuilder *new_OrgJodaTimeTzDateTimeZoneBuilder_init() {
  OrgJodaTimeTzDateTimeZoneBuilder *self = [OrgJodaTimeTzDateTimeZoneBuilder alloc];
  OrgJodaTimeTzDateTimeZoneBuilder_init(self);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder *create_OrgJodaTimeTzDateTimeZoneBuilder_init() {
  OrgJodaTimeTzDateTimeZoneBuilder *self = [[OrgJodaTimeTzDateTimeZoneBuilder alloc] autorelease];
  OrgJodaTimeTzDateTimeZoneBuilder_init(self);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *OrgJodaTimeTzDateTimeZoneBuilder_getLastRuleSet(OrgJodaTimeTzDateTimeZoneBuilder *self) {
  if ([((JavaUtilArrayList *) nil_chk(self->iRuleSets_)) size] == 0) {
    [self addCutoverWithInt:JavaLangInteger_MIN_VALUE withChar:'w' withInt:1 withInt:1 withInt:0 withBoolean:false withInt:0];
  }
  return [self->iRuleSets_ getWithInt:[self->iRuleSets_ size] - 1];
}

jboolean OrgJodaTimeTzDateTimeZoneBuilder_addTransitionWithJavaUtilArrayList_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(OrgJodaTimeTzDateTimeZoneBuilder *self, JavaUtilArrayList *transitions, OrgJodaTimeTzDateTimeZoneBuilder_Transition *tr) {
  jint size = [((JavaUtilArrayList *) nil_chk(transitions)) size];
  if (size == 0) {
    [transitions addWithId:tr];
    return true;
  }
  OrgJodaTimeTzDateTimeZoneBuilder_Transition *last = [transitions getWithInt:size - 1];
  if (![((OrgJodaTimeTzDateTimeZoneBuilder_Transition *) nil_chk(tr)) isTransitionFromWithOrgJodaTimeTzDateTimeZoneBuilder_Transition:last]) {
    return false;
  }
  jint offsetForLast = 0;
  if (size >= 2) {
    offsetForLast = [((OrgJodaTimeTzDateTimeZoneBuilder_Transition *) nil_chk([transitions getWithInt:size - 2])) getWallOffset];
  }
  jint offsetForNew = [((OrgJodaTimeTzDateTimeZoneBuilder_Transition *) nil_chk(last)) getWallOffset];
  jlong lastLocal = [last getMillis] + offsetForLast;
  jlong newLocal = [tr getMillis] + offsetForNew;
  if (newLocal != lastLocal) {
    [transitions addWithId:tr];
    return true;
  }
  [transitions removeWithInt:size - 1];
  return OrgJodaTimeTzDateTimeZoneBuilder_addTransitionWithJavaUtilArrayList_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(self, transitions, tr);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgJodaTimeTzDateTimeZoneBuilder)

@implementation OrgJodaTimeTzDateTimeZoneBuilder_OfYear

+ (OrgJodaTimeTzDateTimeZoneBuilder_OfYear *)readFromWithJavaIoDataInput:(id<JavaIoDataInput>)inArg {
  return OrgJodaTimeTzDateTimeZoneBuilder_OfYear_readFromWithJavaIoDataInput_(inArg);
}

- (instancetype)initWithChar:(jchar)mode
                     withInt:(jint)monthOfYear
                     withInt:(jint)dayOfMonth
                     withInt:(jint)dayOfWeek
                 withBoolean:(jboolean)advanceDayOfWeek
                     withInt:(jint)millisOfDay {
  OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initWithChar_withInt_withInt_withInt_withBoolean_withInt_(self, mode, monthOfYear, dayOfMonth, dayOfWeek, advanceDayOfWeek, millisOfDay);
  return self;
}

- (jlong)setInstantWithInt:(jint)year
                   withInt:(jint)standardOffset
                   withInt:(jint)saveMillis {
  jint offset;
  if (iMode_ == 'w') {
    offset = standardOffset + saveMillis;
  }
  else if (iMode_ == 's') {
    offset = standardOffset;
  }
  else {
    offset = 0;
  }
  OrgJodaTimeChronology *chrono = OrgJodaTimeChronoISOChronology_getInstanceUTC();
  jlong millis = [((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronology *) nil_chk(chrono)) year])) setWithLong:0 withInt:year];
  millis = [((OrgJodaTimeDateTimeField *) nil_chk([chrono monthOfYear])) setWithLong:millis withInt:iMonthOfYear_];
  millis = [((OrgJodaTimeDateTimeField *) nil_chk([chrono millisOfDay])) setWithLong:millis withInt:iMillisOfDay_];
  millis = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthWithOrgJodaTimeChronology_withLong_(self, chrono, millis);
  if (iDayOfWeek_ != 0) {
    millis = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfWeekWithOrgJodaTimeChronology_withLong_(self, chrono, millis);
  }
  return millis - offset;
}

- (jlong)nextWithLong:(jlong)instant
              withInt:(jint)standardOffset
              withInt:(jint)saveMillis {
  jint offset;
  if (iMode_ == 'w') {
    offset = standardOffset + saveMillis;
  }
  else if (iMode_ == 's') {
    offset = standardOffset;
  }
  else {
    offset = 0;
  }
  instant += offset;
  OrgJodaTimeChronology *chrono = OrgJodaTimeChronoISOChronology_getInstanceUTC();
  jlong next = [((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronology *) nil_chk(chrono)) monthOfYear])) setWithLong:instant withInt:iMonthOfYear_];
  next = [((OrgJodaTimeDateTimeField *) nil_chk([chrono millisOfDay])) setWithLong:next withInt:0];
  next = [((OrgJodaTimeDateTimeField *) nil_chk([chrono millisOfDay])) addWithLong:next withInt:iMillisOfDay_];
  next = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthNextWithOrgJodaTimeChronology_withLong_(self, chrono, next);
  if (iDayOfWeek_ == 0) {
    if (next <= instant) {
      next = [((OrgJodaTimeDateTimeField *) nil_chk([chrono year])) addWithLong:next withInt:1];
      next = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthNextWithOrgJodaTimeChronology_withLong_(self, chrono, next);
    }
  }
  else {
    next = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfWeekWithOrgJodaTimeChronology_withLong_(self, chrono, next);
    if (next <= instant) {
      next = [((OrgJodaTimeDateTimeField *) nil_chk([chrono year])) addWithLong:next withInt:1];
      next = [((OrgJodaTimeDateTimeField *) nil_chk([chrono monthOfYear])) setWithLong:next withInt:iMonthOfYear_];
      next = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthNextWithOrgJodaTimeChronology_withLong_(self, chrono, next);
      next = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfWeekWithOrgJodaTimeChronology_withLong_(self, chrono, next);
    }
  }
  return next - offset;
}

- (jlong)previousWithLong:(jlong)instant
                  withInt:(jint)standardOffset
                  withInt:(jint)saveMillis {
  jint offset;
  if (iMode_ == 'w') {
    offset = standardOffset + saveMillis;
  }
  else if (iMode_ == 's') {
    offset = standardOffset;
  }
  else {
    offset = 0;
  }
  instant += offset;
  OrgJodaTimeChronology *chrono = OrgJodaTimeChronoISOChronology_getInstanceUTC();
  jlong prev = [((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronology *) nil_chk(chrono)) monthOfYear])) setWithLong:instant withInt:iMonthOfYear_];
  prev = [((OrgJodaTimeDateTimeField *) nil_chk([chrono millisOfDay])) setWithLong:prev withInt:0];
  prev = [((OrgJodaTimeDateTimeField *) nil_chk([chrono millisOfDay])) addWithLong:prev withInt:iMillisOfDay_];
  prev = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthPreviousWithOrgJodaTimeChronology_withLong_(self, chrono, prev);
  if (iDayOfWeek_ == 0) {
    if (prev >= instant) {
      prev = [((OrgJodaTimeDateTimeField *) nil_chk([chrono year])) addWithLong:prev withInt:-1];
      prev = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthPreviousWithOrgJodaTimeChronology_withLong_(self, chrono, prev);
    }
  }
  else {
    prev = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfWeekWithOrgJodaTimeChronology_withLong_(self, chrono, prev);
    if (prev >= instant) {
      prev = [((OrgJodaTimeDateTimeField *) nil_chk([chrono year])) addWithLong:prev withInt:-1];
      prev = [((OrgJodaTimeDateTimeField *) nil_chk([chrono monthOfYear])) setWithLong:prev withInt:iMonthOfYear_];
      prev = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthPreviousWithOrgJodaTimeChronology_withLong_(self, chrono, prev);
      prev = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfWeekWithOrgJodaTimeChronology_withLong_(self, chrono, prev);
    }
  }
  return prev - offset;
}

- (jboolean)isEqual:(id)obj {
  if (self == obj) {
    return true;
  }
  if ([obj isKindOfClass:[OrgJodaTimeTzDateTimeZoneBuilder_OfYear class]]) {
    OrgJodaTimeTzDateTimeZoneBuilder_OfYear *other = (OrgJodaTimeTzDateTimeZoneBuilder_OfYear *) cast_chk(obj, [OrgJodaTimeTzDateTimeZoneBuilder_OfYear class]);
    return iMode_ == ((OrgJodaTimeTzDateTimeZoneBuilder_OfYear *) nil_chk(other))->iMode_ && iMonthOfYear_ == other->iMonthOfYear_ && iDayOfMonth_ == other->iDayOfMonth_ && iDayOfWeek_ == other->iDayOfWeek_ && iAdvance_ == other->iAdvance_ && iMillisOfDay_ == other->iMillisOfDay_;
  }
  return false;
}

- (void)writeToWithJavaIoDataOutput:(id<JavaIoDataOutput>)outArg {
  [((id<JavaIoDataOutput>) nil_chk(outArg)) writeByteWithInt:iMode_];
  [outArg writeByteWithInt:iMonthOfYear_];
  [outArg writeByteWithInt:iDayOfMonth_];
  [outArg writeByteWithInt:iDayOfWeek_];
  [outArg writeBooleanWithBoolean:iAdvance_];
  OrgJodaTimeTzDateTimeZoneBuilder_writeMillisWithJavaIoDataOutput_withLong_(outArg, iMillisOfDay_);
}

- (jlong)setDayOfMonthNextWithOrgJodaTimeChronology:(OrgJodaTimeChronology *)chrono
                                           withLong:(jlong)next {
  return OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthNextWithOrgJodaTimeChronology_withLong_(self, chrono, next);
}

- (jlong)setDayOfMonthPreviousWithOrgJodaTimeChronology:(OrgJodaTimeChronology *)chrono
                                               withLong:(jlong)prev {
  return OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthPreviousWithOrgJodaTimeChronology_withLong_(self, chrono, prev);
}

- (jlong)setDayOfMonthWithOrgJodaTimeChronology:(OrgJodaTimeChronology *)chrono
                                       withLong:(jlong)instant {
  return OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthWithOrgJodaTimeChronology_withLong_(self, chrono, instant);
}

- (jlong)setDayOfWeekWithOrgJodaTimeChronology:(OrgJodaTimeChronology *)chrono
                                      withLong:(jlong)instant {
  return OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfWeekWithOrgJodaTimeChronology_withLong_(self, chrono, instant);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "readFromWithJavaIoDataInput:", "readFrom", "Lorg.joda.time.tz.DateTimeZoneBuilder$OfYear;", 0x8, "Ljava.io.IOException;", NULL },
    { "initWithChar:withInt:withInt:withInt:withBoolean:withInt:", "OfYear", NULL, 0x0, NULL, NULL },
    { "setInstantWithInt:withInt:withInt:", "setInstant", "J", 0x1, NULL, NULL },
    { "nextWithLong:withInt:withInt:", "next", "J", 0x1, NULL, NULL },
    { "previousWithLong:withInt:withInt:", "previous", "J", 0x1, NULL, NULL },
    { "isEqual:", "equals", "Z", 0x1, NULL, NULL },
    { "writeToWithJavaIoDataOutput:", "writeTo", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "setDayOfMonthNextWithOrgJodaTimeChronology:withLong:", "setDayOfMonthNext", "J", 0x2, NULL, NULL },
    { "setDayOfMonthPreviousWithOrgJodaTimeChronology:withLong:", "setDayOfMonthPrevious", "J", 0x2, NULL, NULL },
    { "setDayOfMonthWithOrgJodaTimeChronology:withLong:", "setDayOfMonth", "J", 0x2, NULL, NULL },
    { "setDayOfWeekWithOrgJodaTimeChronology:withLong:", "setDayOfWeek", "J", 0x2, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "iMode_", NULL, 0x10, "C", NULL, NULL, .constantValue.asLong = 0 },
    { "iMonthOfYear_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "iDayOfMonth_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "iDayOfWeek_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "iAdvance_", NULL, 0x10, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "iMillisOfDay_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgJodaTimeTzDateTimeZoneBuilder_OfYear = { 2, "OfYear", "org.joda.time.tz", "DateTimeZoneBuilder", 0x1a, 11, methods, 6, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgJodaTimeTzDateTimeZoneBuilder_OfYear;
}

@end

OrgJodaTimeTzDateTimeZoneBuilder_OfYear *OrgJodaTimeTzDateTimeZoneBuilder_OfYear_readFromWithJavaIoDataInput_(id<JavaIoDataInput> inArg) {
  OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initialize();
  return create_OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initWithChar_withInt_withInt_withInt_withBoolean_withInt_((jchar) [((id<JavaIoDataInput>) nil_chk(inArg)) readUnsignedByte], (jint) [inArg readUnsignedByte], (jint) [inArg readByte], (jint) [inArg readUnsignedByte], [inArg readBoolean], (jint) OrgJodaTimeTzDateTimeZoneBuilder_readMillisWithJavaIoDataInput_(inArg));
}

void OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initWithChar_withInt_withInt_withInt_withBoolean_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *self, jchar mode, jint monthOfYear, jint dayOfMonth, jint dayOfWeek, jboolean advanceDayOfWeek, jint millisOfDay) {
  NSObject_init(self);
  if (mode != 'u' && mode != 'w' && mode != 's') {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$C", @"Unknown mode: ", mode));
  }
  self->iMode_ = mode;
  self->iMonthOfYear_ = monthOfYear;
  self->iDayOfMonth_ = dayOfMonth;
  self->iDayOfWeek_ = dayOfWeek;
  self->iAdvance_ = advanceDayOfWeek;
  self->iMillisOfDay_ = millisOfDay;
}

OrgJodaTimeTzDateTimeZoneBuilder_OfYear *new_OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initWithChar_withInt_withInt_withInt_withBoolean_withInt_(jchar mode, jint monthOfYear, jint dayOfMonth, jint dayOfWeek, jboolean advanceDayOfWeek, jint millisOfDay) {
  OrgJodaTimeTzDateTimeZoneBuilder_OfYear *self = [OrgJodaTimeTzDateTimeZoneBuilder_OfYear alloc];
  OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initWithChar_withInt_withInt_withInt_withBoolean_withInt_(self, mode, monthOfYear, dayOfMonth, dayOfWeek, advanceDayOfWeek, millisOfDay);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder_OfYear *create_OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initWithChar_withInt_withInt_withInt_withBoolean_withInt_(jchar mode, jint monthOfYear, jint dayOfMonth, jint dayOfWeek, jboolean advanceDayOfWeek, jint millisOfDay) {
  OrgJodaTimeTzDateTimeZoneBuilder_OfYear *self = [[OrgJodaTimeTzDateTimeZoneBuilder_OfYear alloc] autorelease];
  OrgJodaTimeTzDateTimeZoneBuilder_OfYear_initWithChar_withInt_withInt_withInt_withBoolean_withInt_(self, mode, monthOfYear, dayOfMonth, dayOfWeek, advanceDayOfWeek, millisOfDay);
  return self;
}

jlong OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthNextWithOrgJodaTimeChronology_withLong_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *self, OrgJodaTimeChronology *chrono, jlong next) {
  @try {
    next = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthWithOrgJodaTimeChronology_withLong_(self, chrono, next);
  }
  @catch (JavaLangIllegalArgumentException *e) {
    if (self->iMonthOfYear_ == 2 && self->iDayOfMonth_ == 29) {
      while ([((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronology *) nil_chk(chrono)) year])) isLeapWithLong:next] == false) {
        next = [((OrgJodaTimeDateTimeField *) nil_chk([chrono year])) addWithLong:next withInt:1];
      }
      next = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthWithOrgJodaTimeChronology_withLong_(self, chrono, next);
    }
    else {
      @throw e;
    }
  }
  return next;
}

jlong OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthPreviousWithOrgJodaTimeChronology_withLong_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *self, OrgJodaTimeChronology *chrono, jlong prev) {
  @try {
    prev = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthWithOrgJodaTimeChronology_withLong_(self, chrono, prev);
  }
  @catch (JavaLangIllegalArgumentException *e) {
    if (self->iMonthOfYear_ == 2 && self->iDayOfMonth_ == 29) {
      while ([((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronology *) nil_chk(chrono)) year])) isLeapWithLong:prev] == false) {
        prev = [((OrgJodaTimeDateTimeField *) nil_chk([chrono year])) addWithLong:prev withInt:-1];
      }
      prev = OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthWithOrgJodaTimeChronology_withLong_(self, chrono, prev);
    }
    else {
      @throw e;
    }
  }
  return prev;
}

jlong OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfMonthWithOrgJodaTimeChronology_withLong_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *self, OrgJodaTimeChronology *chrono, jlong instant) {
  if (self->iDayOfMonth_ >= 0) {
    instant = [((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronology *) nil_chk(chrono)) dayOfMonth])) setWithLong:instant withInt:self->iDayOfMonth_];
  }
  else {
    instant = [((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronology *) nil_chk(chrono)) dayOfMonth])) setWithLong:instant withInt:1];
    instant = [((OrgJodaTimeDateTimeField *) nil_chk([chrono monthOfYear])) addWithLong:instant withInt:1];
    instant = [((OrgJodaTimeDateTimeField *) nil_chk([chrono dayOfMonth])) addWithLong:instant withInt:self->iDayOfMonth_];
  }
  return instant;
}

jlong OrgJodaTimeTzDateTimeZoneBuilder_OfYear_setDayOfWeekWithOrgJodaTimeChronology_withLong_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *self, OrgJodaTimeChronology *chrono, jlong instant) {
  jint dayOfWeek = [((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronology *) nil_chk(chrono)) dayOfWeek])) getWithLong:instant];
  jint daysToAdd = self->iDayOfWeek_ - dayOfWeek;
  if (daysToAdd != 0) {
    if (self->iAdvance_) {
      if (daysToAdd < 0) {
        daysToAdd += 7;
      }
    }
    else {
      if (daysToAdd > 0) {
        daysToAdd -= 7;
      }
    }
    instant = [((OrgJodaTimeDateTimeField *) nil_chk([chrono dayOfWeek])) addWithLong:instant withInt:daysToAdd];
  }
  return instant;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgJodaTimeTzDateTimeZoneBuilder_OfYear)

@implementation OrgJodaTimeTzDateTimeZoneBuilder_Recurrence

+ (OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)readFromWithJavaIoDataInput:(id<JavaIoDataInput>)inArg {
  return OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_readFromWithJavaIoDataInput_(inArg);
}

- (instancetype)initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear:(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *)ofYear
                                                   withNSString:(NSString *)nameKey
                                                        withInt:(jint)saveMillis {
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear_withNSString_withInt_(self, ofYear, nameKey, saveMillis);
  return self;
}

- (OrgJodaTimeTzDateTimeZoneBuilder_OfYear *)getOfYear {
  return iOfYear_;
}

- (jlong)nextWithLong:(jlong)instant
              withInt:(jint)standardOffset
              withInt:(jint)saveMillis {
  return [((OrgJodaTimeTzDateTimeZoneBuilder_OfYear *) nil_chk(iOfYear_)) nextWithLong:instant withInt:standardOffset withInt:saveMillis];
}

- (jlong)previousWithLong:(jlong)instant
                  withInt:(jint)standardOffset
                  withInt:(jint)saveMillis {
  return [((OrgJodaTimeTzDateTimeZoneBuilder_OfYear *) nil_chk(iOfYear_)) previousWithLong:instant withInt:standardOffset withInt:saveMillis];
}

- (NSString *)getNameKey {
  return iNameKey_;
}

- (jint)getSaveMillis {
  return iSaveMillis_;
}

- (jboolean)isEqual:(id)obj {
  if (self == obj) {
    return true;
  }
  if ([obj isKindOfClass:[OrgJodaTimeTzDateTimeZoneBuilder_Recurrence class]]) {
    OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *other = (OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) cast_chk(obj, [OrgJodaTimeTzDateTimeZoneBuilder_Recurrence class]);
    return iSaveMillis_ == ((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(other))->iSaveMillis_ && [((NSString *) nil_chk(iNameKey_)) isEqual:other->iNameKey_] && [((OrgJodaTimeTzDateTimeZoneBuilder_OfYear *) nil_chk(iOfYear_)) isEqual:other->iOfYear_];
  }
  return false;
}

- (void)writeToWithJavaIoDataOutput:(id<JavaIoDataOutput>)outArg {
  [((OrgJodaTimeTzDateTimeZoneBuilder_OfYear *) nil_chk(iOfYear_)) writeToWithJavaIoDataOutput:outArg];
  [((id<JavaIoDataOutput>) nil_chk(outArg)) writeUTFWithNSString:iNameKey_];
  OrgJodaTimeTzDateTimeZoneBuilder_writeMillisWithJavaIoDataOutput_withLong_(outArg, iSaveMillis_);
}

- (OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)renameWithNSString:(NSString *)nameKey {
  return create_OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear_withNSString_withInt_(iOfYear_, nameKey, iSaveMillis_);
}

- (OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)renameAppendWithNSString:(NSString *)appendNameKey {
  return [self renameWithNSString:[(JreStrcat("$$", iNameKey_, appendNameKey)) intern]];
}

- (void)dealloc {
  RELEASE_(iOfYear_);
  RELEASE_(iNameKey_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "readFromWithJavaIoDataInput:", "readFrom", "Lorg.joda.time.tz.DateTimeZoneBuilder$Recurrence;", 0x8, "Ljava.io.IOException;", NULL },
    { "initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear:withNSString:withInt:", "Recurrence", NULL, 0x0, NULL, NULL },
    { "getOfYear", NULL, "Lorg.joda.time.tz.DateTimeZoneBuilder$OfYear;", 0x1, NULL, NULL },
    { "nextWithLong:withInt:withInt:", "next", "J", 0x1, NULL, NULL },
    { "previousWithLong:withInt:withInt:", "previous", "J", 0x1, NULL, NULL },
    { "getNameKey", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getSaveMillis", NULL, "I", 0x1, NULL, NULL },
    { "isEqual:", "equals", "Z", 0x1, NULL, NULL },
    { "writeToWithJavaIoDataOutput:", "writeTo", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "renameWithNSString:", "rename", "Lorg.joda.time.tz.DateTimeZoneBuilder$Recurrence;", 0x0, NULL, NULL },
    { "renameAppendWithNSString:", "renameAppend", "Lorg.joda.time.tz.DateTimeZoneBuilder$Recurrence;", 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "iOfYear_", NULL, 0x10, "Lorg.joda.time.tz.DateTimeZoneBuilder$OfYear;", NULL, NULL, .constantValue.asLong = 0 },
    { "iNameKey_", NULL, 0x10, "Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
    { "iSaveMillis_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgJodaTimeTzDateTimeZoneBuilder_Recurrence = { 2, "Recurrence", "org.joda.time.tz", "DateTimeZoneBuilder", 0x1a, 11, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgJodaTimeTzDateTimeZoneBuilder_Recurrence;
}

@end

OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_readFromWithJavaIoDataInput_(id<JavaIoDataInput> inArg) {
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initialize();
  return create_OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear_withNSString_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear_readFromWithJavaIoDataInput_(inArg), [((id<JavaIoDataInput>) nil_chk(inArg)) readUTF], (jint) OrgJodaTimeTzDateTimeZoneBuilder_readMillisWithJavaIoDataInput_(inArg));
}

void OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear_withNSString_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *self, OrgJodaTimeTzDateTimeZoneBuilder_OfYear *ofYear, NSString *nameKey, jint saveMillis) {
  NSObject_init(self);
  JreStrongAssign(&self->iOfYear_, ofYear);
  JreStrongAssign(&self->iNameKey_, nameKey);
  self->iSaveMillis_ = saveMillis;
}

OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *new_OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear_withNSString_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *ofYear, NSString *nameKey, jint saveMillis) {
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *self = [OrgJodaTimeTzDateTimeZoneBuilder_Recurrence alloc];
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear_withNSString_withInt_(self, ofYear, nameKey, saveMillis);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *create_OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear_withNSString_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *ofYear, NSString *nameKey, jint saveMillis) {
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *self = [[OrgJodaTimeTzDateTimeZoneBuilder_Recurrence alloc] autorelease];
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_initWithOrgJodaTimeTzDateTimeZoneBuilder_OfYear_withNSString_withInt_(self, ofYear, nameKey, saveMillis);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence)

@implementation OrgJodaTimeTzDateTimeZoneBuilder_Rule

- (instancetype)initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence:(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)recurrence
                                                            withInt:(jint)fromYear
                                                            withInt:(jint)toYear {
  OrgJodaTimeTzDateTimeZoneBuilder_Rule_initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withInt_withInt_(self, recurrence, fromYear, toYear);
  return self;
}

- (jint)getFromYear {
  return iFromYear_;
}

- (jint)getToYear {
  return iToYear_;
}

- (OrgJodaTimeTzDateTimeZoneBuilder_OfYear *)getOfYear {
  return [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(iRecurrence_)) getOfYear];
}

- (NSString *)getNameKey {
  return [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(iRecurrence_)) getNameKey];
}

- (jint)getSaveMillis {
  return [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(iRecurrence_)) getSaveMillis];
}

- (jlong)nextWithLong:(jlong)instant
              withInt:(jint)standardOffset
              withInt:(jint)saveMillis {
  OrgJodaTimeChronology *chrono = OrgJodaTimeChronoISOChronology_getInstanceUTC();
  jint wallOffset = standardOffset + saveMillis;
  jlong testInstant = instant;
  jint year;
  if (instant == JavaLangLong_MIN_VALUE) {
    year = JavaLangInteger_MIN_VALUE;
  }
  else {
    year = [((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronology *) nil_chk(chrono)) year])) getWithLong:instant + wallOffset];
  }
  if (year < iFromYear_) {
    testInstant = [((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronology *) nil_chk(chrono)) year])) setWithLong:0 withInt:iFromYear_] - wallOffset;
    testInstant -= 1;
  }
  jlong next = [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(iRecurrence_)) nextWithLong:testInstant withInt:standardOffset withInt:saveMillis];
  if (next > instant) {
    year = [((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronology *) nil_chk(chrono)) year])) getWithLong:next + wallOffset];
    if (year > iToYear_) {
      next = instant;
    }
  }
  return next;
}

- (void)dealloc {
  RELEASE_(iRecurrence_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence:withInt:withInt:", "Rule", NULL, 0x0, NULL, NULL },
    { "getFromYear", NULL, "I", 0x1, NULL, NULL },
    { "getToYear", NULL, "I", 0x1, NULL, NULL },
    { "getOfYear", NULL, "Lorg.joda.time.tz.DateTimeZoneBuilder$OfYear;", 0x1, NULL, NULL },
    { "getNameKey", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getSaveMillis", NULL, "I", 0x1, NULL, NULL },
    { "nextWithLong:withInt:withInt:", "next", "J", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "iRecurrence_", NULL, 0x10, "Lorg.joda.time.tz.DateTimeZoneBuilder$Recurrence;", NULL, NULL, .constantValue.asLong = 0 },
    { "iFromYear_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "iToYear_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgJodaTimeTzDateTimeZoneBuilder_Rule = { 2, "Rule", "org.joda.time.tz", "DateTimeZoneBuilder", 0x1a, 7, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgJodaTimeTzDateTimeZoneBuilder_Rule;
}

@end

void OrgJodaTimeTzDateTimeZoneBuilder_Rule_initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withInt_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_Rule *self, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *recurrence, jint fromYear, jint toYear) {
  NSObject_init(self);
  JreStrongAssign(&self->iRecurrence_, recurrence);
  self->iFromYear_ = fromYear;
  self->iToYear_ = toYear;
}

OrgJodaTimeTzDateTimeZoneBuilder_Rule *new_OrgJodaTimeTzDateTimeZoneBuilder_Rule_initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withInt_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *recurrence, jint fromYear, jint toYear) {
  OrgJodaTimeTzDateTimeZoneBuilder_Rule *self = [OrgJodaTimeTzDateTimeZoneBuilder_Rule alloc];
  OrgJodaTimeTzDateTimeZoneBuilder_Rule_initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withInt_withInt_(self, recurrence, fromYear, toYear);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder_Rule *create_OrgJodaTimeTzDateTimeZoneBuilder_Rule_initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withInt_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *recurrence, jint fromYear, jint toYear) {
  OrgJodaTimeTzDateTimeZoneBuilder_Rule *self = [[OrgJodaTimeTzDateTimeZoneBuilder_Rule alloc] autorelease];
  OrgJodaTimeTzDateTimeZoneBuilder_Rule_initWithOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withInt_withInt_(self, recurrence, fromYear, toYear);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgJodaTimeTzDateTimeZoneBuilder_Rule)

@implementation OrgJodaTimeTzDateTimeZoneBuilder_Transition

- (instancetype)initWithLong:(jlong)millis
withOrgJodaTimeTzDateTimeZoneBuilder_Transition:(OrgJodaTimeTzDateTimeZoneBuilder_Transition *)tr {
  OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(self, millis, tr);
  return self;
}

- (instancetype)initWithLong:(jlong)millis
withOrgJodaTimeTzDateTimeZoneBuilder_Rule:(OrgJodaTimeTzDateTimeZoneBuilder_Rule *)rule
                     withInt:(jint)standardOffset {
  OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Rule_withInt_(self, millis, rule, standardOffset);
  return self;
}

- (instancetype)initWithLong:(jlong)millis
                withNSString:(NSString *)nameKey
                     withInt:(jint)wallOffset
                     withInt:(jint)standardOffset {
  OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withNSString_withInt_withInt_(self, millis, nameKey, wallOffset, standardOffset);
  return self;
}

- (jlong)getMillis {
  return iMillis_;
}

- (NSString *)getNameKey {
  return iNameKey_;
}

- (jint)getWallOffset {
  return iWallOffset_;
}

- (jint)getStandardOffset {
  return iStandardOffset_;
}

- (jint)getSaveMillis {
  return iWallOffset_ - iStandardOffset_;
}

- (jboolean)isTransitionFromWithOrgJodaTimeTzDateTimeZoneBuilder_Transition:(OrgJodaTimeTzDateTimeZoneBuilder_Transition *)other {
  if (other == nil) {
    return true;
  }
  return iMillis_ > ((OrgJodaTimeTzDateTimeZoneBuilder_Transition *) nil_chk(other))->iMillis_ && (iWallOffset_ != other->iWallOffset_ || !([((NSString *) nil_chk(iNameKey_)) isEqual:other->iNameKey_]));
}

- (void)dealloc {
  RELEASE_(iNameKey_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithLong:withOrgJodaTimeTzDateTimeZoneBuilder_Transition:", "Transition", NULL, 0x0, NULL, NULL },
    { "initWithLong:withOrgJodaTimeTzDateTimeZoneBuilder_Rule:withInt:", "Transition", NULL, 0x0, NULL, NULL },
    { "initWithLong:withNSString:withInt:withInt:", "Transition", NULL, 0x0, NULL, NULL },
    { "getMillis", NULL, "J", 0x1, NULL, NULL },
    { "getNameKey", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getWallOffset", NULL, "I", 0x1, NULL, NULL },
    { "getStandardOffset", NULL, "I", 0x1, NULL, NULL },
    { "getSaveMillis", NULL, "I", 0x1, NULL, NULL },
    { "isTransitionFromWithOrgJodaTimeTzDateTimeZoneBuilder_Transition:", "isTransitionFrom", "Z", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "iMillis_", NULL, 0x12, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "iNameKey_", NULL, 0x12, "Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
    { "iWallOffset_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "iStandardOffset_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgJodaTimeTzDateTimeZoneBuilder_Transition = { 2, "Transition", "org.joda.time.tz", "DateTimeZoneBuilder", 0x1a, 9, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgJodaTimeTzDateTimeZoneBuilder_Transition;
}

@end

void OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(OrgJodaTimeTzDateTimeZoneBuilder_Transition *self, jlong millis, OrgJodaTimeTzDateTimeZoneBuilder_Transition *tr) {
  NSObject_init(self);
  self->iMillis_ = millis;
  JreStrongAssign(&self->iNameKey_, ((OrgJodaTimeTzDateTimeZoneBuilder_Transition *) nil_chk(tr))->iNameKey_);
  self->iWallOffset_ = tr->iWallOffset_;
  self->iStandardOffset_ = tr->iStandardOffset_;
}

OrgJodaTimeTzDateTimeZoneBuilder_Transition *new_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(jlong millis, OrgJodaTimeTzDateTimeZoneBuilder_Transition *tr) {
  OrgJodaTimeTzDateTimeZoneBuilder_Transition *self = [OrgJodaTimeTzDateTimeZoneBuilder_Transition alloc];
  OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(self, millis, tr);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder_Transition *create_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(jlong millis, OrgJodaTimeTzDateTimeZoneBuilder_Transition *tr) {
  OrgJodaTimeTzDateTimeZoneBuilder_Transition *self = [[OrgJodaTimeTzDateTimeZoneBuilder_Transition alloc] autorelease];
  OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(self, millis, tr);
  return self;
}

void OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Rule_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_Transition *self, jlong millis, OrgJodaTimeTzDateTimeZoneBuilder_Rule *rule, jint standardOffset) {
  NSObject_init(self);
  self->iMillis_ = millis;
  JreStrongAssign(&self->iNameKey_, [((OrgJodaTimeTzDateTimeZoneBuilder_Rule *) nil_chk(rule)) getNameKey]);
  self->iWallOffset_ = standardOffset + [rule getSaveMillis];
  self->iStandardOffset_ = standardOffset;
}

OrgJodaTimeTzDateTimeZoneBuilder_Transition *new_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Rule_withInt_(jlong millis, OrgJodaTimeTzDateTimeZoneBuilder_Rule *rule, jint standardOffset) {
  OrgJodaTimeTzDateTimeZoneBuilder_Transition *self = [OrgJodaTimeTzDateTimeZoneBuilder_Transition alloc];
  OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Rule_withInt_(self, millis, rule, standardOffset);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder_Transition *create_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Rule_withInt_(jlong millis, OrgJodaTimeTzDateTimeZoneBuilder_Rule *rule, jint standardOffset) {
  OrgJodaTimeTzDateTimeZoneBuilder_Transition *self = [[OrgJodaTimeTzDateTimeZoneBuilder_Transition alloc] autorelease];
  OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Rule_withInt_(self, millis, rule, standardOffset);
  return self;
}

void OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withNSString_withInt_withInt_(OrgJodaTimeTzDateTimeZoneBuilder_Transition *self, jlong millis, NSString *nameKey, jint wallOffset, jint standardOffset) {
  NSObject_init(self);
  self->iMillis_ = millis;
  JreStrongAssign(&self->iNameKey_, nameKey);
  self->iWallOffset_ = wallOffset;
  self->iStandardOffset_ = standardOffset;
}

OrgJodaTimeTzDateTimeZoneBuilder_Transition *new_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withNSString_withInt_withInt_(jlong millis, NSString *nameKey, jint wallOffset, jint standardOffset) {
  OrgJodaTimeTzDateTimeZoneBuilder_Transition *self = [OrgJodaTimeTzDateTimeZoneBuilder_Transition alloc];
  OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withNSString_withInt_withInt_(self, millis, nameKey, wallOffset, standardOffset);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder_Transition *create_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withNSString_withInt_withInt_(jlong millis, NSString *nameKey, jint wallOffset, jint standardOffset) {
  OrgJodaTimeTzDateTimeZoneBuilder_Transition *self = [[OrgJodaTimeTzDateTimeZoneBuilder_Transition alloc] autorelease];
  OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withNSString_withInt_withInt_(self, millis, nameKey, wallOffset, standardOffset);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgJodaTimeTzDateTimeZoneBuilder_Transition)

J2OBJC_INITIALIZED_DEFN(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet)

@implementation OrgJodaTimeTzDateTimeZoneBuilder_RuleSet

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (instancetype)initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet:(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *)rs {
  OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet_(self, rs);
  return self;
}

- (jint)getStandardOffset {
  return iStandardOffset_;
}

- (void)setStandardOffsetWithInt:(jint)standardOffset {
  iStandardOffset_ = standardOffset;
}

- (void)setFixedSavingsWithNSString:(NSString *)nameKey
                            withInt:(jint)saveMillis {
  JreStrongAssign(&iInitialNameKey_, nameKey);
  iInitialSaveMillis_ = saveMillis;
}

- (void)addRuleWithOrgJodaTimeTzDateTimeZoneBuilder_Rule:(OrgJodaTimeTzDateTimeZoneBuilder_Rule *)rule {
  if (![((JavaUtilArrayList *) nil_chk(iRules_)) containsWithId:rule]) {
    [iRules_ addWithId:rule];
  }
}

- (void)setUpperLimitWithInt:(jint)year
withOrgJodaTimeTzDateTimeZoneBuilder_OfYear:(OrgJodaTimeTzDateTimeZoneBuilder_OfYear *)ofYear {
  iUpperYear_ = year;
  JreStrongAssign(&iUpperOfYear_, ofYear);
}

- (OrgJodaTimeTzDateTimeZoneBuilder_Transition *)firstTransitionWithLong:(jlong)firstMillis {
  if (iInitialNameKey_ != nil) {
    return create_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withNSString_withInt_withInt_(firstMillis, iInitialNameKey_, iStandardOffset_ + iInitialSaveMillis_, iStandardOffset_);
  }
  JavaUtilArrayList *copy_ = create_JavaUtilArrayList_initWithJavaUtilCollection_(iRules_);
  jlong millis = JavaLangLong_MIN_VALUE;
  jint saveMillis = 0;
  OrgJodaTimeTzDateTimeZoneBuilder_Transition *first = nil;
  OrgJodaTimeTzDateTimeZoneBuilder_Transition *next;
  while ((next = [self nextTransitionWithLong:millis withInt:saveMillis]) != nil) {
    millis = [((OrgJodaTimeTzDateTimeZoneBuilder_Transition *) nil_chk(next)) getMillis];
    if (millis == firstMillis) {
      first = create_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(firstMillis, next);
      break;
    }
    if (millis > firstMillis) {
      if (first == nil) {
        for (OrgJodaTimeTzDateTimeZoneBuilder_Rule * __strong rule in copy_) {
          if ([((OrgJodaTimeTzDateTimeZoneBuilder_Rule *) nil_chk(rule)) getSaveMillis] == 0) {
            first = create_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Rule_withInt_(firstMillis, rule, iStandardOffset_);
            break;
          }
        }
      }
      if (first == nil) {
        first = create_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withNSString_withInt_withInt_(firstMillis, [next getNameKey], iStandardOffset_, iStandardOffset_);
      }
      break;
    }
    first = create_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Transition_(firstMillis, next);
    saveMillis = [next getSaveMillis];
  }
  JreStrongAssign(&iRules_, copy_);
  return first;
}

- (OrgJodaTimeTzDateTimeZoneBuilder_Transition *)nextTransitionWithLong:(jlong)instant
                                                                withInt:(jint)saveMillis {
  OrgJodaTimeChronology *chrono = OrgJodaTimeChronoISOChronology_getInstanceUTC();
  OrgJodaTimeTzDateTimeZoneBuilder_Rule *nextRule = nil;
  jlong nextMillis = JavaLangLong_MAX_VALUE;
  id<JavaUtilIterator> it = [((JavaUtilArrayList *) nil_chk(iRules_)) iterator];
  while ([((id<JavaUtilIterator>) nil_chk(it)) hasNext]) {
    OrgJodaTimeTzDateTimeZoneBuilder_Rule *rule = [it next];
    jlong next = [((OrgJodaTimeTzDateTimeZoneBuilder_Rule *) nil_chk(rule)) nextWithLong:instant withInt:iStandardOffset_ withInt:saveMillis];
    if (next <= instant) {
      [it remove];
      continue;
    }
    if (next <= nextMillis) {
      nextRule = rule;
      nextMillis = next;
    }
  }
  if (nextRule == nil) {
    return nil;
  }
  if ([((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronology *) nil_chk(chrono)) year])) getWithLong:nextMillis] >= OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_YEAR_LIMIT) {
    return nil;
  }
  if (iUpperYear_ < JavaLangInteger_MAX_VALUE) {
    jlong upperMillis = [((OrgJodaTimeTzDateTimeZoneBuilder_OfYear *) nil_chk(iUpperOfYear_)) setInstantWithInt:iUpperYear_ withInt:iStandardOffset_ withInt:saveMillis];
    if (nextMillis >= upperMillis) {
      return nil;
    }
  }
  return create_OrgJodaTimeTzDateTimeZoneBuilder_Transition_initWithLong_withOrgJodaTimeTzDateTimeZoneBuilder_Rule_withInt_(nextMillis, nextRule, iStandardOffset_);
}

- (jlong)getUpperLimitWithInt:(jint)saveMillis {
  if (iUpperYear_ == JavaLangInteger_MAX_VALUE) {
    return JavaLangLong_MAX_VALUE;
  }
  return [((OrgJodaTimeTzDateTimeZoneBuilder_OfYear *) nil_chk(iUpperOfYear_)) setInstantWithInt:iUpperYear_ withInt:iStandardOffset_ withInt:saveMillis];
}

- (OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *)buildTailZoneWithNSString:(NSString *)id_ {
  if ([((JavaUtilArrayList *) nil_chk(iRules_)) size] == 2) {
    OrgJodaTimeTzDateTimeZoneBuilder_Rule *startRule = [iRules_ getWithInt:0];
    OrgJodaTimeTzDateTimeZoneBuilder_Rule *endRule = [iRules_ getWithInt:1];
    if ([((OrgJodaTimeTzDateTimeZoneBuilder_Rule *) nil_chk(startRule)) getToYear] == JavaLangInteger_MAX_VALUE && [((OrgJodaTimeTzDateTimeZoneBuilder_Rule *) nil_chk(endRule)) getToYear] == JavaLangInteger_MAX_VALUE) {
      return create_OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_(id_, iStandardOffset_, startRule->iRecurrence_, endRule->iRecurrence_);
    }
  }
  return nil;
}

- (void)dealloc {
  RELEASE_(iRules_);
  RELEASE_(iInitialNameKey_);
  RELEASE_(iUpperOfYear_);
  [super dealloc];
}

+ (void)initialize {
  if (self == [OrgJodaTimeTzDateTimeZoneBuilder_RuleSet class]) {
    {
      jlong now = OrgJodaTimeDateTimeUtils_currentTimeMillis();
      OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_YEAR_LIMIT = [((OrgJodaTimeDateTimeField *) nil_chk([((OrgJodaTimeChronoISOChronology *) nil_chk(OrgJodaTimeChronoISOChronology_getInstanceUTC())) year])) getWithLong:now] + 100;
    }
    J2OBJC_SET_INITIALIZED(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "RuleSet", NULL, 0x0, NULL, NULL },
    { "initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet:", "RuleSet", NULL, 0x0, NULL, NULL },
    { "getStandardOffset", NULL, "I", 0x1, NULL, NULL },
    { "setStandardOffsetWithInt:", "setStandardOffset", "V", 0x1, NULL, NULL },
    { "setFixedSavingsWithNSString:withInt:", "setFixedSavings", "V", 0x1, NULL, NULL },
    { "addRuleWithOrgJodaTimeTzDateTimeZoneBuilder_Rule:", "addRule", "V", 0x1, NULL, NULL },
    { "setUpperLimitWithInt:withOrgJodaTimeTzDateTimeZoneBuilder_OfYear:", "setUpperLimit", "V", 0x1, NULL, NULL },
    { "firstTransitionWithLong:", "firstTransition", "Lorg.joda.time.tz.DateTimeZoneBuilder$Transition;", 0x1, NULL, NULL },
    { "nextTransitionWithLong:withInt:", "nextTransition", "Lorg.joda.time.tz.DateTimeZoneBuilder$Transition;", 0x1, NULL, NULL },
    { "getUpperLimitWithInt:", "getUpperLimit", "J", 0x1, NULL, NULL },
    { "buildTailZoneWithNSString:", "buildTailZone", "Lorg.joda.time.tz.DateTimeZoneBuilder$DSTZone;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "YEAR_LIMIT", "YEAR_LIMIT", 0x1a, "I", &OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_YEAR_LIMIT, NULL, .constantValue.asLong = 0 },
    { "iStandardOffset_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "iRules_", NULL, 0x2, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lorg/joda/time/tz/DateTimeZoneBuilder$Rule;>;", .constantValue.asLong = 0 },
    { "iInitialNameKey_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
    { "iInitialSaveMillis_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "iUpperYear_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "iUpperOfYear_", NULL, 0x2, "Lorg.joda.time.tz.DateTimeZoneBuilder$OfYear;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgJodaTimeTzDateTimeZoneBuilder_RuleSet = { 2, "RuleSet", "org.joda.time.tz", "DateTimeZoneBuilder", 0x1a, 11, methods, 7, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgJodaTimeTzDateTimeZoneBuilder_RuleSet;
}

@end

void OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_init(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *self) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->iRules_, new_JavaUtilArrayList_initWithInt_(10));
  self->iUpperYear_ = JavaLangInteger_MAX_VALUE;
}

OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *new_OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_init() {
  OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *self = [OrgJodaTimeTzDateTimeZoneBuilder_RuleSet alloc];
  OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_init(self);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *create_OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_init() {
  OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *self = [[OrgJodaTimeTzDateTimeZoneBuilder_RuleSet alloc] autorelease];
  OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_init(self);
  return self;
}

void OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet_(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *self, OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *rs) {
  NSObject_init(self);
  self->iStandardOffset_ = ((OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *) nil_chk(rs))->iStandardOffset_;
  JreStrongAssignAndConsume(&self->iRules_, new_JavaUtilArrayList_initWithJavaUtilCollection_(rs->iRules_));
  JreStrongAssign(&self->iInitialNameKey_, rs->iInitialNameKey_);
  self->iInitialSaveMillis_ = rs->iInitialSaveMillis_;
  self->iUpperYear_ = rs->iUpperYear_;
  JreStrongAssign(&self->iUpperOfYear_, rs->iUpperOfYear_);
}

OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *new_OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet_(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *rs) {
  OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *self = [OrgJodaTimeTzDateTimeZoneBuilder_RuleSet alloc];
  OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet_(self, rs);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *create_OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet_(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *rs) {
  OrgJodaTimeTzDateTimeZoneBuilder_RuleSet *self = [[OrgJodaTimeTzDateTimeZoneBuilder_RuleSet alloc] autorelease];
  OrgJodaTimeTzDateTimeZoneBuilder_RuleSet_initWithOrgJodaTimeTzDateTimeZoneBuilder_RuleSet_(self, rs);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgJodaTimeTzDateTimeZoneBuilder_RuleSet)

@implementation OrgJodaTimeTzDateTimeZoneBuilder_DSTZone

+ (OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *)readFromWithJavaIoDataInput:(id<JavaIoDataInput>)inArg
                                                             withNSString:(NSString *)id_ {
  return OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_readFromWithJavaIoDataInput_withNSString_(inArg, id_);
}

- (instancetype)initWithNSString:(NSString *)id_
                         withInt:(jint)standardOffset
withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence:(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)startRecurrence
withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence:(OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)endRecurrence {
  OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_(self, id_, standardOffset, startRecurrence, endRecurrence);
  return self;
}

- (NSString *)getNameKeyWithLong:(jlong)instant {
  return [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_findMatchingRecurrenceWithLong_(self, instant))) getNameKey];
}

- (jint)getOffsetWithLong:(jlong)instant {
  return iStandardOffset_ + [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_findMatchingRecurrenceWithLong_(self, instant))) getSaveMillis];
}

- (jint)getStandardOffsetWithLong:(jlong)instant {
  return iStandardOffset_;
}

- (jboolean)isFixed {
  return false;
}

- (jlong)nextTransitionWithLong:(jlong)instant {
  jint standardOffset = iStandardOffset_;
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *startRecurrence = iStartRecurrence_;
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *endRecurrence = iEndRecurrence_;
  jlong start, end;
  @try {
    start = [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(startRecurrence)) nextWithLong:instant withInt:standardOffset withInt:[((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(endRecurrence)) getSaveMillis]];
    if (instant > 0 && start < 0) {
      start = instant;
    }
  }
  @catch (JavaLangIllegalArgumentException *e) {
    start = instant;
  }
  @catch (JavaLangArithmeticException *e) {
    start = instant;
  }
  @try {
    end = [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(endRecurrence)) nextWithLong:instant withInt:standardOffset withInt:[((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(startRecurrence)) getSaveMillis]];
    if (instant > 0 && end < 0) {
      end = instant;
    }
  }
  @catch (JavaLangIllegalArgumentException *e) {
    end = instant;
  }
  @catch (JavaLangArithmeticException *e) {
    end = instant;
  }
  return (start > end) ? end : start;
}

- (jlong)previousTransitionWithLong:(jlong)instant {
  instant++;
  jint standardOffset = iStandardOffset_;
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *startRecurrence = iStartRecurrence_;
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *endRecurrence = iEndRecurrence_;
  jlong start, end;
  @try {
    start = [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(startRecurrence)) previousWithLong:instant withInt:standardOffset withInt:[((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(endRecurrence)) getSaveMillis]];
    if (instant < 0 && start > 0) {
      start = instant;
    }
  }
  @catch (JavaLangIllegalArgumentException *e) {
    start = instant;
  }
  @catch (JavaLangArithmeticException *e) {
    start = instant;
  }
  @try {
    end = [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(endRecurrence)) previousWithLong:instant withInt:standardOffset withInt:[((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(startRecurrence)) getSaveMillis]];
    if (instant < 0 && end > 0) {
      end = instant;
    }
  }
  @catch (JavaLangIllegalArgumentException *e) {
    end = instant;
  }
  @catch (JavaLangArithmeticException *e) {
    end = instant;
  }
  return ((start > end) ? start : end) - 1;
}

- (jboolean)isEqual:(id)obj {
  if (self == obj) {
    return true;
  }
  if ([obj isKindOfClass:[OrgJodaTimeTzDateTimeZoneBuilder_DSTZone class]]) {
    OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *other = (OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *) cast_chk(obj, [OrgJodaTimeTzDateTimeZoneBuilder_DSTZone class]);
    return [((NSString *) nil_chk([self getID])) isEqual:[((OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *) nil_chk(other)) getID]] && iStandardOffset_ == other->iStandardOffset_ && [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(iStartRecurrence_)) isEqual:other->iStartRecurrence_] && [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(iEndRecurrence_)) isEqual:other->iEndRecurrence_];
  }
  return false;
}

- (void)writeToWithJavaIoDataOutput:(id<JavaIoDataOutput>)outArg {
  OrgJodaTimeTzDateTimeZoneBuilder_writeMillisWithJavaIoDataOutput_withLong_(outArg, iStandardOffset_);
  [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(iStartRecurrence_)) writeToWithJavaIoDataOutput:outArg];
  [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(iEndRecurrence_)) writeToWithJavaIoDataOutput:outArg];
}

- (OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *)findMatchingRecurrenceWithLong:(jlong)instant {
  return OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_findMatchingRecurrenceWithLong_(self, instant);
}

- (void)dealloc {
  RELEASE_(iStartRecurrence_);
  RELEASE_(iEndRecurrence_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "readFromWithJavaIoDataInput:withNSString:", "readFrom", "Lorg.joda.time.tz.DateTimeZoneBuilder$DSTZone;", 0x8, "Ljava.io.IOException;", NULL },
    { "initWithNSString:withInt:withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence:withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence:", "DSTZone", NULL, 0x0, NULL, NULL },
    { "getNameKeyWithLong:", "getNameKey", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getOffsetWithLong:", "getOffset", "I", 0x1, NULL, NULL },
    { "getStandardOffsetWithLong:", "getStandardOffset", "I", 0x1, NULL, NULL },
    { "isFixed", NULL, "Z", 0x1, NULL, NULL },
    { "nextTransitionWithLong:", "nextTransition", "J", 0x1, NULL, NULL },
    { "previousTransitionWithLong:", "previousTransition", "J", 0x1, NULL, NULL },
    { "isEqual:", "equals", "Z", 0x1, NULL, NULL },
    { "writeToWithJavaIoDataOutput:", "writeTo", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "findMatchingRecurrenceWithLong:", "findMatchingRecurrence", "Lorg.joda.time.tz.DateTimeZoneBuilder$Recurrence;", 0x2, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "serialVersionUID", "serialVersionUID", 0x1a, "J", NULL, NULL, .constantValue.asLong = OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_serialVersionUID },
    { "iStandardOffset_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "iStartRecurrence_", NULL, 0x10, "Lorg.joda.time.tz.DateTimeZoneBuilder$Recurrence;", NULL, NULL, .constantValue.asLong = 0 },
    { "iEndRecurrence_", NULL, 0x10, "Lorg.joda.time.tz.DateTimeZoneBuilder$Recurrence;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgJodaTimeTzDateTimeZoneBuilder_DSTZone = { 2, "DSTZone", "org.joda.time.tz", "DateTimeZoneBuilder", 0x1a, 11, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgJodaTimeTzDateTimeZoneBuilder_DSTZone;
}

@end

OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_readFromWithJavaIoDataInput_withNSString_(id<JavaIoDataInput> inArg, NSString *id_) {
  OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initialize();
  return create_OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_(id_, (jint) OrgJodaTimeTzDateTimeZoneBuilder_readMillisWithJavaIoDataInput_(inArg), OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_readFromWithJavaIoDataInput_(inArg), OrgJodaTimeTzDateTimeZoneBuilder_Recurrence_readFromWithJavaIoDataInput_(inArg));
}

void OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *self, NSString *id_, jint standardOffset, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *startRecurrence, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *endRecurrence) {
  OrgJodaTimeDateTimeZone_initWithNSString_(self, id_);
  self->iStandardOffset_ = standardOffset;
  JreStrongAssign(&self->iStartRecurrence_, startRecurrence);
  JreStrongAssign(&self->iEndRecurrence_, endRecurrence);
}

OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *new_OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_(NSString *id_, jint standardOffset, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *startRecurrence, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *endRecurrence) {
  OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *self = [OrgJodaTimeTzDateTimeZoneBuilder_DSTZone alloc];
  OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_(self, id_, standardOffset, startRecurrence, endRecurrence);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *create_OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_(NSString *id_, jint standardOffset, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *startRecurrence, OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *endRecurrence) {
  OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *self = [[OrgJodaTimeTzDateTimeZoneBuilder_DSTZone alloc] autorelease];
  OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_(self, id_, standardOffset, startRecurrence, endRecurrence);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_findMatchingRecurrenceWithLong_(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *self, jlong instant) {
  jint standardOffset = self->iStandardOffset_;
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *startRecurrence = self->iStartRecurrence_;
  OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *endRecurrence = self->iEndRecurrence_;
  jlong start, end;
  @try {
    start = [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(startRecurrence)) nextWithLong:instant withInt:standardOffset withInt:[((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(endRecurrence)) getSaveMillis]];
  }
  @catch (JavaLangIllegalArgumentException *e) {
    start = instant;
  }
  @catch (JavaLangArithmeticException *e) {
    start = instant;
  }
  @try {
    end = [((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(endRecurrence)) nextWithLong:instant withInt:standardOffset withInt:[((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(startRecurrence)) getSaveMillis]];
  }
  @catch (JavaLangIllegalArgumentException *e) {
    end = instant;
  }
  @catch (JavaLangArithmeticException *e) {
    end = instant;
  }
  return (start > end) ? startRecurrence : endRecurrence;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone)

@implementation OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone

+ (OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *)readFromWithJavaIoDataInput:(id<JavaIoDataInput>)inArg
                                                                       withNSString:(NSString *)id_ {
  return OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_readFromWithJavaIoDataInput_withNSString_(inArg, id_);
}

+ (OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *)createWithNSString:(NSString *)id_
                                                               withBoolean:(jboolean)outputID
                                                     withJavaUtilArrayList:(JavaUtilArrayList *)transitions
                              withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone:(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *)tailZone {
  return OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_createWithNSString_withBoolean_withJavaUtilArrayList_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(id_, outputID, transitions, tailZone);
}

- (instancetype)initWithNSString:(NSString *)id_
                   withLongArray:(IOSLongArray *)transitions
                    withIntArray:(IOSIntArray *)wallOffsets
                    withIntArray:(IOSIntArray *)standardOffsets
               withNSStringArray:(IOSObjectArray *)nameKeys
withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone:(OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *)tailZone {
  OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initWithNSString_withLongArray_withIntArray_withIntArray_withNSStringArray_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(self, id_, transitions, wallOffsets, standardOffsets, nameKeys, tailZone);
  return self;
}

- (NSString *)getNameKeyWithLong:(jlong)instant {
  IOSLongArray *transitions = iTransitions_;
  jint i = JavaUtilArrays_binarySearchWithLongArray_withLong_(transitions, instant);
  if (i >= 0) {
    return IOSObjectArray_Get(nil_chk(iNameKeys_), i);
  }
  i = ~i;
  if (i < ((IOSLongArray *) nil_chk(transitions))->size_) {
    if (i > 0) {
      return IOSObjectArray_Get(nil_chk(iNameKeys_), i - 1);
    }
    return @"UTC";
  }
  if (iTailZone_ == nil) {
    return IOSObjectArray_Get(nil_chk(iNameKeys_), i - 1);
  }
  return [((OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *) nil_chk(iTailZone_)) getNameKeyWithLong:instant];
}

- (jint)getOffsetWithLong:(jlong)instant {
  IOSLongArray *transitions = iTransitions_;
  jint i = JavaUtilArrays_binarySearchWithLongArray_withLong_(transitions, instant);
  if (i >= 0) {
    return IOSIntArray_Get(nil_chk(iWallOffsets_), i);
  }
  i = ~i;
  if (i < ((IOSLongArray *) nil_chk(transitions))->size_) {
    if (i > 0) {
      return IOSIntArray_Get(nil_chk(iWallOffsets_), i - 1);
    }
    return 0;
  }
  if (iTailZone_ == nil) {
    return IOSIntArray_Get(nil_chk(iWallOffsets_), i - 1);
  }
  return [((OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *) nil_chk(iTailZone_)) getOffsetWithLong:instant];
}

- (jint)getStandardOffsetWithLong:(jlong)instant {
  IOSLongArray *transitions = iTransitions_;
  jint i = JavaUtilArrays_binarySearchWithLongArray_withLong_(transitions, instant);
  if (i >= 0) {
    return IOSIntArray_Get(nil_chk(iStandardOffsets_), i);
  }
  i = ~i;
  if (i < ((IOSLongArray *) nil_chk(transitions))->size_) {
    if (i > 0) {
      return IOSIntArray_Get(nil_chk(iStandardOffsets_), i - 1);
    }
    return 0;
  }
  if (iTailZone_ == nil) {
    return IOSIntArray_Get(nil_chk(iStandardOffsets_), i - 1);
  }
  return [((OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *) nil_chk(iTailZone_)) getStandardOffsetWithLong:instant];
}

- (jboolean)isFixed {
  return false;
}

- (jlong)nextTransitionWithLong:(jlong)instant {
  IOSLongArray *transitions = iTransitions_;
  jint i = JavaUtilArrays_binarySearchWithLongArray_withLong_(transitions, instant);
  i = (i >= 0) ? (i + 1) : ~i;
  if (i < ((IOSLongArray *) nil_chk(transitions))->size_) {
    return IOSLongArray_Get(transitions, i);
  }
  if (iTailZone_ == nil) {
    return instant;
  }
  jlong end = IOSLongArray_Get(transitions, transitions->size_ - 1);
  if (instant < end) {
    instant = end;
  }
  return [((OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *) nil_chk(iTailZone_)) nextTransitionWithLong:instant];
}

- (jlong)previousTransitionWithLong:(jlong)instant {
  IOSLongArray *transitions = iTransitions_;
  jint i = JavaUtilArrays_binarySearchWithLongArray_withLong_(transitions, instant);
  if (i >= 0) {
    if (instant > JavaLangLong_MIN_VALUE) {
      return instant - 1;
    }
    return instant;
  }
  i = ~i;
  if (i < ((IOSLongArray *) nil_chk(transitions))->size_) {
    if (i > 0) {
      jlong prev = IOSLongArray_Get(transitions, i - 1);
      if (prev > JavaLangLong_MIN_VALUE) {
        return prev - 1;
      }
    }
    return instant;
  }
  if (iTailZone_ != nil) {
    jlong prev = [iTailZone_ previousTransitionWithLong:instant];
    if (prev < instant) {
      return prev;
    }
  }
  jlong prev = IOSLongArray_Get(transitions, i - 1);
  if (prev > JavaLangLong_MIN_VALUE) {
    return prev - 1;
  }
  return instant;
}

- (jboolean)isEqual:(id)obj {
  if (self == obj) {
    return true;
  }
  if ([obj isKindOfClass:[OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone class]]) {
    OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *other = (OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *) cast_chk(obj, [OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone class]);
    return [((NSString *) nil_chk([self getID])) isEqual:[((OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *) nil_chk(other)) getID]] && JavaUtilArrays_equalsWithLongArray_withLongArray_(iTransitions_, other->iTransitions_) && JavaUtilArrays_equalsWithNSObjectArray_withNSObjectArray_(iNameKeys_, other->iNameKeys_) && JavaUtilArrays_equalsWithIntArray_withIntArray_(iWallOffsets_, other->iWallOffsets_) && JavaUtilArrays_equalsWithIntArray_withIntArray_(iStandardOffsets_, other->iStandardOffsets_) && ((iTailZone_ == nil) ? (nil == other->iTailZone_) : ([iTailZone_ isEqual:other->iTailZone_]));
  }
  return false;
}

- (void)writeToWithJavaIoDataOutput:(id<JavaIoDataOutput>)outArg {
  jint size = ((IOSLongArray *) nil_chk(iTransitions_))->size_;
  id<JavaUtilSet> poolSet = create_JavaUtilHashSet_init();
  for (jint i = 0; i < size; i++) {
    [poolSet addWithId:IOSObjectArray_Get(nil_chk(iNameKeys_), i)];
  }
  jint poolSize = [poolSet size];
  if (poolSize > 65535) {
    @throw create_JavaLangUnsupportedOperationException_initWithNSString_(@"String pool is too large");
  }
  IOSObjectArray *pool = [IOSObjectArray arrayWithLength:poolSize type:NSString_class_()];
  id<JavaUtilIterator> it = [poolSet iterator];
  for (jint i = 0; [((id<JavaUtilIterator>) nil_chk(it)) hasNext]; i++) {
    IOSObjectArray_Set(pool, i, [it next]);
  }
  [((id<JavaIoDataOutput>) nil_chk(outArg)) writeShortWithInt:poolSize];
  for (jint i = 0; i < poolSize; i++) {
    [outArg writeUTFWithNSString:IOSObjectArray_Get(pool, i)];
  }
  [outArg writeIntWithInt:size];
  for (jint i = 0; i < size; i++) {
    OrgJodaTimeTzDateTimeZoneBuilder_writeMillisWithJavaIoDataOutput_withLong_(outArg, IOSLongArray_Get(iTransitions_, i));
    OrgJodaTimeTzDateTimeZoneBuilder_writeMillisWithJavaIoDataOutput_withLong_(outArg, IOSIntArray_Get(nil_chk(iWallOffsets_), i));
    OrgJodaTimeTzDateTimeZoneBuilder_writeMillisWithJavaIoDataOutput_withLong_(outArg, IOSIntArray_Get(nil_chk(iStandardOffsets_), i));
    NSString *nameKey = IOSObjectArray_Get(nil_chk(iNameKeys_), i);
    for (jint j = 0; j < poolSize; j++) {
      if ([((NSString *) nil_chk(IOSObjectArray_Get(pool, j))) isEqual:nameKey]) {
        if (poolSize < 256) {
          [outArg writeByteWithInt:j];
        }
        else {
          [outArg writeShortWithInt:j];
        }
        break;
      }
    }
  }
  [outArg writeBooleanWithBoolean:iTailZone_ != nil];
  if (iTailZone_ != nil) {
    [iTailZone_ writeToWithJavaIoDataOutput:outArg];
  }
}

- (jboolean)isCachable {
  if (iTailZone_ != nil) {
    return true;
  }
  IOSLongArray *transitions = iTransitions_;
  if (((IOSLongArray *) nil_chk(transitions))->size_ <= 1) {
    return false;
  }
  jdouble distances = 0;
  jint count = 0;
  for (jint i = 1; i < transitions->size_; i++) {
    jlong diff = IOSLongArray_Get(transitions, i) - IOSLongArray_Get(transitions, i - 1);
    if (diff < ((366LL + 365) * 24 * 60 * 60 * 1000)) {
      JrePlusAssignDoubleD(&distances, (jdouble) diff);
      count++;
    }
  }
  if (count > 0) {
    jdouble avg = distances / count;
    JreDivideAssignDoubleD(&avg, 24 * 60 * 60 * 1000);
    if (avg >= 25) {
      return true;
    }
  }
  return false;
}

- (void)dealloc {
  RELEASE_(iTransitions_);
  RELEASE_(iWallOffsets_);
  RELEASE_(iStandardOffsets_);
  RELEASE_(iNameKeys_);
  RELEASE_(iTailZone_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "readFromWithJavaIoDataInput:withNSString:", "readFrom", "Lorg.joda.time.tz.DateTimeZoneBuilder$PrecalculatedZone;", 0x8, "Ljava.io.IOException;", NULL },
    { "createWithNSString:withBoolean:withJavaUtilArrayList:withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone:", "create", "Lorg.joda.time.tz.DateTimeZoneBuilder$PrecalculatedZone;", 0x8, NULL, "(Ljava/lang/String;ZLjava/util/ArrayList<Lorg/joda/time/tz/DateTimeZoneBuilder$Transition;>;Lorg/joda/time/tz/DateTimeZoneBuilder$DSTZone;)Lorg/joda/time/tz/DateTimeZoneBuilder$PrecalculatedZone;" },
    { "initWithNSString:withLongArray:withIntArray:withIntArray:withNSStringArray:withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone:", "PrecalculatedZone", NULL, 0x2, NULL, NULL },
    { "getNameKeyWithLong:", "getNameKey", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getOffsetWithLong:", "getOffset", "I", 0x1, NULL, NULL },
    { "getStandardOffsetWithLong:", "getStandardOffset", "I", 0x1, NULL, NULL },
    { "isFixed", NULL, "Z", 0x1, NULL, NULL },
    { "nextTransitionWithLong:", "nextTransition", "J", 0x1, NULL, NULL },
    { "previousTransitionWithLong:", "previousTransition", "J", 0x1, NULL, NULL },
    { "isEqual:", "equals", "Z", 0x1, NULL, NULL },
    { "writeToWithJavaIoDataOutput:", "writeTo", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "isCachable", NULL, "Z", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "serialVersionUID", "serialVersionUID", 0x1a, "J", NULL, NULL, .constantValue.asLong = OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_serialVersionUID },
    { "iTransitions_", NULL, 0x12, "[J", NULL, NULL, .constantValue.asLong = 0 },
    { "iWallOffsets_", NULL, 0x12, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "iStandardOffsets_", NULL, 0x12, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "iNameKeys_", NULL, 0x12, "[Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
    { "iTailZone_", NULL, 0x12, "Lorg.joda.time.tz.DateTimeZoneBuilder$DSTZone;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone = { 2, "PrecalculatedZone", "org.joda.time.tz", "DateTimeZoneBuilder", 0x1a, 12, methods, 6, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone;
}

@end

OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_readFromWithJavaIoDataInput_withNSString_(id<JavaIoDataInput> inArg, NSString *id_) {
  OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initialize();
  jint poolSize = [((id<JavaIoDataInput>) nil_chk(inArg)) readUnsignedShort];
  IOSObjectArray *pool = [IOSObjectArray arrayWithLength:poolSize type:NSString_class_()];
  for (jint i = 0; i < poolSize; i++) {
    IOSObjectArray_Set(pool, i, [inArg readUTF]);
  }
  jint size = [inArg readInt];
  IOSLongArray *transitions = [IOSLongArray arrayWithLength:size];
  IOSIntArray *wallOffsets = [IOSIntArray arrayWithLength:size];
  IOSIntArray *standardOffsets = [IOSIntArray arrayWithLength:size];
  IOSObjectArray *nameKeys = [IOSObjectArray arrayWithLength:size type:NSString_class_()];
  for (jint i = 0; i < size; i++) {
    *IOSLongArray_GetRef(transitions, i) = OrgJodaTimeTzDateTimeZoneBuilder_readMillisWithJavaIoDataInput_(inArg);
    *IOSIntArray_GetRef(wallOffsets, i) = (jint) OrgJodaTimeTzDateTimeZoneBuilder_readMillisWithJavaIoDataInput_(inArg);
    *IOSIntArray_GetRef(standardOffsets, i) = (jint) OrgJodaTimeTzDateTimeZoneBuilder_readMillisWithJavaIoDataInput_(inArg);
    @try {
      jint index;
      if (poolSize < 256) {
        index = [inArg readUnsignedByte];
      }
      else {
        index = [inArg readUnsignedShort];
      }
      IOSObjectArray_Set(nameKeys, i, IOSObjectArray_Get(pool, index));
    }
    @catch (JavaLangArrayIndexOutOfBoundsException *e) {
      @throw create_JavaIoIOException_initWithNSString_(@"Invalid encoding");
    }
  }
  OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *tailZone = nil;
  if ([inArg readBoolean]) {
    tailZone = OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_readFromWithJavaIoDataInput_withNSString_(inArg, id_);
  }
  return create_OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initWithNSString_withLongArray_withIntArray_withIntArray_withNSStringArray_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(id_, transitions, wallOffsets, standardOffsets, nameKeys, tailZone);
}

OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_createWithNSString_withBoolean_withJavaUtilArrayList_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(NSString *id_, jboolean outputID, JavaUtilArrayList *transitions, OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *tailZone) {
  OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initialize();
  jint size = [((JavaUtilArrayList *) nil_chk(transitions)) size];
  if (size == 0) {
    @throw create_JavaLangIllegalArgumentException_init();
  }
  IOSLongArray *trans = [IOSLongArray arrayWithLength:size];
  IOSIntArray *wallOffsets = [IOSIntArray arrayWithLength:size];
  IOSIntArray *standardOffsets = [IOSIntArray arrayWithLength:size];
  IOSObjectArray *nameKeys = [IOSObjectArray arrayWithLength:size type:NSString_class_()];
  OrgJodaTimeTzDateTimeZoneBuilder_Transition *last = nil;
  for (jint i = 0; i < size; i++) {
    OrgJodaTimeTzDateTimeZoneBuilder_Transition *tr = [transitions getWithInt:i];
    if (![((OrgJodaTimeTzDateTimeZoneBuilder_Transition *) nil_chk(tr)) isTransitionFromWithOrgJodaTimeTzDateTimeZoneBuilder_Transition:last]) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_(id_);
    }
    *IOSLongArray_GetRef(trans, i) = [tr getMillis];
    *IOSIntArray_GetRef(wallOffsets, i) = [tr getWallOffset];
    *IOSIntArray_GetRef(standardOffsets, i) = [tr getStandardOffset];
    IOSObjectArray_Set(nameKeys, i, [tr getNameKey]);
    last = tr;
  }
  IOSObjectArray *zoneNameData = [IOSObjectArray arrayWithLength:5 type:NSString_class_()];
  IOSObjectArray *zoneStrings = [create_JavaTextDateFormatSymbols_initWithJavaUtilLocale_(JreLoadStatic(JavaUtilLocale, ENGLISH)) getZoneStrings];
  for (jint j = 0; j < ((IOSObjectArray *) nil_chk(zoneStrings))->size_; j++) {
    IOSObjectArray *set = IOSObjectArray_Get(zoneStrings, j);
    if (set != nil && set->size_ == 5 && [((NSString *) nil_chk(id_)) isEqual:IOSObjectArray_Get(set, 0)]) {
      zoneNameData = set;
    }
  }
  OrgJodaTimeChronology *chrono = OrgJodaTimeChronoISOChronology_getInstanceUTC();
  for (jint i = 0; i < nameKeys->size_ - 1; i++) {
    NSString *curNameKey = IOSObjectArray_Get(nameKeys, i);
    NSString *nextNameKey = IOSObjectArray_Get(nameKeys, i + 1);
    jlong curOffset = IOSIntArray_Get(wallOffsets, i);
    jlong nextOffset = IOSIntArray_Get(wallOffsets, i + 1);
    jlong curStdOffset = IOSIntArray_Get(standardOffsets, i);
    jlong nextStdOffset = IOSIntArray_Get(standardOffsets, i + 1);
    OrgJodaTimePeriod *p = create_OrgJodaTimePeriod_initWithLong_withLong_withOrgJodaTimePeriodType_withOrgJodaTimeChronology_(IOSLongArray_Get(trans, i), IOSLongArray_Get(trans, i + 1), OrgJodaTimePeriodType_yearMonthDay(), chrono);
    if (curOffset != nextOffset && curStdOffset == nextStdOffset && [((NSString *) nil_chk(curNameKey)) isEqual:nextNameKey] && [p getYears] == 0 && [p getMonths] > 4 && [p getMonths] < 8 && [curNameKey isEqual:IOSObjectArray_Get(zoneNameData, 2)] && [curNameKey isEqual:IOSObjectArray_Get(zoneNameData, 4)]) {
      if (OrgJodaTimeTzZoneInfoLogger_verbose()) {
        [((JavaIoPrintStream *) nil_chk(JreLoadStatic(JavaLangSystem, out))) printlnWithNSString:JreStrcat("$$", @"Fixing duplicate name key - ", nextNameKey)];
        [JreLoadStatic(JavaLangSystem, out) printlnWithNSString:JreStrcat("$@$@", @"     - ", create_OrgJodaTimeDateTime_initWithLong_withOrgJodaTimeChronology_(IOSLongArray_Get(trans, i), chrono), @" - ", create_OrgJodaTimeDateTime_initWithLong_withOrgJodaTimeChronology_(IOSLongArray_Get(trans, i + 1), chrono))];
      }
      if (curOffset > nextOffset) {
        IOSObjectArray_Set(nameKeys, i, [(JreStrcat("$$", curNameKey, @"-Summer")) intern]);
      }
      else if (curOffset < nextOffset) {
        IOSObjectArray_Set(nameKeys, i + 1, [(JreStrcat("$$", nextNameKey, @"-Summer")) intern]);
        i++;
      }
    }
  }
  if (tailZone != nil) {
    if ([((NSString *) nil_chk([((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(tailZone->iStartRecurrence_)) getNameKey])) isEqual:[((OrgJodaTimeTzDateTimeZoneBuilder_Recurrence *) nil_chk(tailZone->iEndRecurrence_)) getNameKey]]) {
      if (OrgJodaTimeTzZoneInfoLogger_verbose()) {
        [((JavaIoPrintStream *) nil_chk(JreLoadStatic(JavaLangSystem, out))) printlnWithNSString:JreStrcat("$$", @"Fixing duplicate recurrent name key - ", [tailZone->iStartRecurrence_ getNameKey])];
      }
      if ([tailZone->iStartRecurrence_ getSaveMillis] > 0) {
        tailZone = create_OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_([tailZone getID], tailZone->iStandardOffset_, [tailZone->iStartRecurrence_ renameAppendWithNSString:@"-Summer"], tailZone->iEndRecurrence_);
      }
      else {
        tailZone = create_OrgJodaTimeTzDateTimeZoneBuilder_DSTZone_initWithNSString_withInt_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_withOrgJodaTimeTzDateTimeZoneBuilder_Recurrence_([tailZone getID], tailZone->iStandardOffset_, tailZone->iStartRecurrence_, [tailZone->iEndRecurrence_ renameAppendWithNSString:@"-Summer"]);
      }
    }
  }
  return create_OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initWithNSString_withLongArray_withIntArray_withIntArray_withNSStringArray_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_((outputID ? id_ : @""), trans, wallOffsets, standardOffsets, nameKeys, tailZone);
}

void OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initWithNSString_withLongArray_withIntArray_withIntArray_withNSStringArray_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *self, NSString *id_, IOSLongArray *transitions, IOSIntArray *wallOffsets, IOSIntArray *standardOffsets, IOSObjectArray *nameKeys, OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *tailZone) {
  OrgJodaTimeDateTimeZone_initWithNSString_(self, id_);
  JreStrongAssign(&self->iTransitions_, transitions);
  JreStrongAssign(&self->iWallOffsets_, wallOffsets);
  JreStrongAssign(&self->iStandardOffsets_, standardOffsets);
  JreStrongAssign(&self->iNameKeys_, nameKeys);
  JreStrongAssign(&self->iTailZone_, tailZone);
}

OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *new_OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initWithNSString_withLongArray_withIntArray_withIntArray_withNSStringArray_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(NSString *id_, IOSLongArray *transitions, IOSIntArray *wallOffsets, IOSIntArray *standardOffsets, IOSObjectArray *nameKeys, OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *tailZone) {
  OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *self = [OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone alloc];
  OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initWithNSString_withLongArray_withIntArray_withIntArray_withNSStringArray_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(self, id_, transitions, wallOffsets, standardOffsets, nameKeys, tailZone);
  return self;
}

OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *create_OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initWithNSString_withLongArray_withIntArray_withIntArray_withNSStringArray_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(NSString *id_, IOSLongArray *transitions, IOSIntArray *wallOffsets, IOSIntArray *standardOffsets, IOSObjectArray *nameKeys, OrgJodaTimeTzDateTimeZoneBuilder_DSTZone *tailZone) {
  OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone *self = [[OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone alloc] autorelease];
  OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone_initWithNSString_withLongArray_withIntArray_withIntArray_withNSStringArray_withOrgJodaTimeTzDateTimeZoneBuilder_DSTZone_(self, id_, transitions, wallOffsets, standardOffsets, nameKeys, tailZone);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgJodaTimeTzDateTimeZoneBuilder_PrecalculatedZone)
